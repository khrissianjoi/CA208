if (self.CavalryLogger) { CavalryLogger.start_js(["DHl0G"]); }

__d("LSMessagingThreadAttributionType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";c=(a=b("bs_caml_int64")).zero;d=a.one;e=a.mk(2,0);b=a.mk(65536,0);var g=a.mk(65537,0),h=a.mk(65538,0),i=a.mk(65539,0),j=a.mk(65540,0),k=a.mk(65541,0),l=a.mk(65542,0),m=a.mk(65543,0),n=a.mk(131072,0),o=a.mk(131073,0),p=a.mk(131074,0),q=a.mk(131075,0),r=a.mk(196608,0),s=a.mk(196609,0),t=a.mk(196610,0),u=a.mk(196611,0),v=a.mk(196612,0),w=a.mk(262144,0),x=a.mk(262145,0),y=a.mk(262146,0),z=a.mk(262147,0),A=a.mk(262148,0),B=a.mk(327680,0),C=a.mk(327681,0),D=a.mk(327682,0),E=a.mk(393216,0),F=a.mk(393217,0),G=a.mk(393218,0),H=a.mk(393219,0),I=a.mk(393220,0),J=a.mk(393221,0),K=a.mk(458752,0),L=a.mk(458753,0),M=a.mk(458754,0),N=a.mk(524288,0),O=a.mk(524289,0),P=a.mk(524290,0),Q=a.mk(524291,0),R=a.mk(589824,0),S=a.mk(589825,0),T=a.mk(589826,0),U=a.mk(589827,0),V=a.mk(589828,0),W=a.mk(655360,0),X=a.mk(655361,0),Y=a.mk(720896,0),Z=a.mk(720897,0),$=a.mk(786432,0),aa=a.mk(786433,0),ba=a.mk(786434,0),ca=a.mk(786435,0),da=a.mk(786436,0),ea=a.mk(786437,0),fa=a.mk(851968,0),ga=a.mk(851969,0),ha=a.mk(851970,0),ia=a.mk(917504,0),ja=a.mk(917505,0),ka=a.mk(917506,0),la=a.mk(917507,0),ma=a.mk(983040,0),na=a.mk(1048576,0),oa=a.mk(1048577,0),pa=a.mk(1048578,0),qa=a.mk(1114112,0),ra=a.mk(1114113,0),sa=a.mk(1114114,0),ta=a.mk(1114115,0),ua=a.mk(1114116,0),va=a.mk(1114117,0),wa=a.mk(1114118,0),xa=a.mk(1179648,0),ya=a.mk(1245184,0),za=a.mk(1245185,0),Aa=a.mk(1310720,0),Ba=a.mk(1310721,0),Ca=a.mk(1310722,0),Da=a.mk(1310723,0),Ea=a.mk(1310724,0),Fa=a.mk(1310725,0),Ga=a.mk(1310726,0),Ha=a.mk(1310727,0),Ia=a.mk(1310728,0),Ja=a.mk(1376256,0),Ka=a.mk(1376257,0),La=a.mk(1376258,0),Ma=a.mk(1441792,0),Na=a.mk(1441793,0),Oa=a.mk(1507328,0),Pa=a.mk(1507329,0),Qa=a.mk(1507330,0),Ra=a.mk(1572864,0),Sa=a.mk(1572865,0),Ta=a.mk(1572866,0),Ua=a.mk(1572867,0),Va=a.mk(1572868,0),Wa=a.mk(1572869,0),Xa=a.mk(1638400,0),Ya=a.mk(1638401,0),Za=a.mk(1638402,0),$a=a.mk(1703936,0);a=a.mk(1703937,0);f.unknown=c;f.unknownTest=d;f.unknownFailureRetry=e;f.messengerInbox=b;f.messengerInboxInThread=g;f.messengerInboxThreadList=h;f.messengerInboxNestedFolder=i;f.messengerInboxRecentThreads=j;f.messengerInboxRemainingThreads=k;f.messengerInboxMessageSearch=l;f.messengerInboxImageSending=m;f.messengerUniversalSearch=n;f.messengerUniversalSearchNullState=o;f.messengerUniversalSearchKeyPressed=p;f.messengerUniversalSearchMessageSearch=q;f.montageAndActiveNow=r;f.montageAndActiveNowMontageInboxUnit=s;f.montageAndActiveNowActiveNow=t;f.montageAndActiveNowInboxComposer=u;f.montageAndActiveNowActiveAndHasStory=v;f.messengerActiveNowFriendsTab=w;f.messengerActiveNowFriendsTabFriendsTab=x;f.messengerActiveNowFriendsTabPlaceHolder=y;f.messengerActiveNowFriendsTabRecentActive=z;f.messengerActiveNowFriendsTabRecentActiveAndStory=A;f.messengerPendingRequests=B;f.messengerPendingRequestsInboxThreadList=C;f.messengerPendingRequestsPendingRequestsPage=D;f.messengerBroadcastFlow=E;f.messengerBroadcastFlowFromMessenger=F;f.messengerBroadcastFlowFromFb=G;f.messengerBroadcastFlowFromExternal=H;f.messengerBroadcastFlowFromFbNewsfeedSharesheet=I;f.messengerBroadcastFlowFromFbNewsfeedGoodwillComposer=J;f.messengerOmnipicker=K;f.messengerOmnipickerNullState=L;f.messengerOmnipickerKeyPressed=M;f.messengerNotification=N;f.messengerNotificationInThreadReply=O;f.messengerNotificationLongpressReply=P;f.messengerNotificationLongpressReaction=Q;f.clickToMessengerAd=R;f.clickToMessengerAdFromNewsfeed=S;f.clickToMessengerAdSendMessageCta=T;f.clickToMessengerAdViewAndMessage=U;f.clickToMessengerAdSendMessageCtaNewsfeedCtmAdsCta=V;f.payments=W;f.paymentsBubbleClick=X;f.rtc=Y;f.rtcVoipIncall=Z;f.fbPage=$;f.fbPageAboutCard=aa;f.fbPageProfileHeaderMessageButton=ba;f.fbPageProfileFooterMessageButton=ca;f.fbPageProfileMoreDrawer=da;f.fbPageResponsivenessContextCard=ea;f.fbProfile=fa;f.fbProfileTimelineMessageButton=ga;f.fbProfileFacebookProfile=ha;f.fbSearch=ia;f.fbSearchContextualProfileActionBarFromSearch=ja;f.fbSearchSearchMessageButton=ka;f.fbSearchFbMessageSearchResults=la;f.crypto=ma;f.messengerMontageComposer=na;f.messengerMontageComposerFriendsTab=oa;f.messengerMontageComposerFriendsTabStoryAndActiveNow=pa;f.messengerMontageReply=qa;f.messengerMontageReplyInboxThreadListProfile=ra;f.messengerMontageReplyReplyContext=sa;f.messengerMontageReplyThreadNavBar=ta;f.messengerMontageReplyInboxThreadListProfileAuthorProfile=ua;f.messengerMontageReplyReplyContextAuthorProfile=va;f.messengerMontageReplyThreadNavBarAuthorProfile=wa;f.messengerThreadMembersList=xa;f.marketplace=ya;f.marketplaceActivityBanner=za;f.fbStory=Aa;f.fbStoryViewerSheetMenu=Ba;f.fbStoryViewerSheetRow=Ca;f.fbStoryStoriesJewelNotification=Da;f.fbStoryStoriesPushNotification=Ea;f.fbStoryStoriesViewerConsumerReply=Fa;f.fbStoryStoriesViewerConsumerArtifact=Ga;f.fbStoryStoriesPageStoryConversations=Ha;f.fbStorySocialContextConversations=Ia;f.workspeed=Ja;f.workspeedComposerLikeButton=Ka;f.workspeedComposerGifPicker=La;f.mdotme=Ma;f.mdotmeOrganicPost=Na;f.customerChatPlugin=Oa;f.customerChatPluginMobileRedirect=Pa;f.customerChatPluginUpgradeFlow=Qa;f.fbFeed=Ra;f.fbFeedOrganicPost=Sa;f.fbFeedOrganicPostViewAndMessage=Ta;f.fbFeedQuestionTriggeredConvo=Ua;f.fbFeedDynamicHoverCard=Va;f.fbFeedOrganicPostNewsfeedPagePostCta=Wa;f.fbNotification=Xa;f.fbNotificationJewelNotif=Ya;f.fbNotificationPushNotif=Za;f.fbEvent=$a;f.fbEventMessageHost=a}),null);
__d("MessagePowerUp.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";c=(a=b("bs_caml_int64")).zero;d=a.one;e=a.mk(2,0);b=a.mk(3,0);a=a.mk(4,0);f.none=c;f.love=d;f.giftWrap=e;f.celebration=b;f.fire=a}),null);
__d("LSThreadNullstate.bs",["LS.bs","FBID.bs","bs_curry","bs_int64","React","MWLSActor.bs","stylex","bs_caml_option","promiseDone","LSMailboxType.bs","LSTransaction.bs","SkytaleDBHook.bs","MessagePowerUp.bs","TetraText.react","MWChatBusinessQuickReply.bs","LSMessagingThreadAttributionType.bs","LSMailboxOptimisticSendMessageStoredProcedure","LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i={root:{width:"k4urcfbm"},icebreaker:{display:"j83agx80",justifyContent:"bkfpd7mw",paddingBottom:"f10w8fjw",paddingEnd:"d1544ag0",paddingStart:"c088b7cy"},notification:{paddingBottom:"f10w8fjw",paddingEnd:"gpl4oick",paddingStart:"gm7ombtx",textAlign:"oqcyycmt"}};function a(a){var c=a.thread,d=a.nullstate;a=a.nullstateCtas;var e=b("SkytaleDBHook.bs").useHook(void 0),f=b("MWLSActor.bs").useActor(void 0),j=function(a){b("promiseDone")(b("LSTransaction.bs").run(e,function(d){return b("LSMailboxOptimisticSendMessageStoredProcedure")(f,c.a,c.c,b("LSMailboxType.bs").messenger,a.c,void 0,void 0,void 0,void 0,void 0,void 0,b("LSMessagingThreadAttributionType.bs").unknown,void 0,a.e!==void 0?b("bs_caml_option").valFromOption(a.e):void 0,void 0,void 0,void 0,void 0,!0,!0,void 0,void 0,b("MessagePowerUp.bs").none,b("bs_curry")._1(b("LS.bs").make,d))},"readWrite"),void 0,void 0)};d=d.c;return h.jsxs(h.Fragment,{children:[h.jsx("div",{children:d!==void 0?h.jsx(b("TetraText.react"),{color:"secondary",type:"body4",children:d}):null,className:(g||(g=b("stylex")))(i.notification)}),h.jsx("div",{children:a.map(function(a){return h.jsx("div",{children:h.jsx(b("MWChatBusinessQuickReply.bs").make,{bodyLineLimit:3,onClick:function(d){j(a);d=b("FBID.bs").ofString(b("bs_int64").to_string(c.a));if(d===void 0)return;var e=b("bs_caml_option").valFromOption(d);b("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent").log(function(a){return{page:{id:e}}})},text:a.c}),className:(g||(g=b("stylex")))(i.icebreaker)},b("bs_int64").to_string(a.a))}),className:g(i.root)})]})}c=a;f.styles=i;f.make=c}),null);
__d("LSThreadNullstateContainer.bs",["React","SkytaleDB","bs_caml_int64","SkytaleDBExec.bs","SkytaleDBHook.bs","SkytaleDBQuery.bs","LSThreadNullstate.bs","SkytaleDBQuerySubscriptionHook.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=a.thread,d=b("SkytaleDBHook.bs").useHook(void 0);a=b("SkytaleDBQuerySubscriptionHook.bs").useFirst(g.useMemo(function(){return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(d,"thread_nullstate").asc,{hd:c.a,tl:0}),function(a){var c=a.f,e=a.g;c=e!==void 0?b("bs_caml_int64").neq(c,b("bs_caml_int64").zero)?b("SkytaleDBExec.bs").toArray(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(d,"thread_nullstate_ctas").asc,{hd:e,tl:0})):[]:[];return[a,c]})},[d,JSON.stringify(c.a)]));if(a!==void 0)return g.jsx(b("LSThreadNullstate.bs").make,{thread:c,nullstate:a[0],nullstateCtas:a[1]});else return null}c=a;f.make=c}),null);
__d("MWLSThreadHasMoreMessages.bs",["React","SkytaleDB","bs_belt_Option","MWThreadKey.bs","SkytaleDBHook.bs","SkytaleDBQuery.bs","SkytaleDBQuerySubscriptionHook.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("SkytaleDBHook.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return b("bs_belt_Option").getWithDefault(b("SkytaleDBQuerySubscriptionHook.bs").useFirst(g.useMemo(function(){return b("SkytaleDBQuery.bs").map(b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(c,"messages_ranges_v2__generated").desc,{hd:d,tl:0}),function(a){return a.h})},[d,c])),!1)}f.useThreadHasMoreMessages=a}),null);
__d("MWChatThread.bs",["fbt","React","gkx","MWTheme.bs","stylex","bs_caml_option","requireCond","MWChatThreadPos.bs","MWUIQuickReplies.bs","MWChatMessageList.bs","focusScopeQueries","MWChatThreadContext.bs","MWLSThreadHasMoreMessages.bs","CometHeroHoldTrigger.react","BaseHeadingContextWrapper.re","MWChatMessageTableFocusTable.bs","MWChatViewerChatVisibilityHook","VideoPlayerAutoplayRulesProvider","CometProgressRingIndeterminate.react","MWChatConversationScroller_DEPRECATED.bs","VideoAutoplayLocalScopeProvider.react","cr:1601105","cr:1667445"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j=g._("Messages"),k={spacer:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr"},mask:{backgroundColor:"nred35xi"},separator:{marginBottom:"n851cfcs",marginTop:"n1l5q3vz",marginStart:"f9o22wc5",marginEnd:"ad2k81qe",height:"ay7djpcl",width:"kv0qyzoi",backgroundColor:"ifff9tsu"},spinner:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",minHeight:"sn7ne77z"}};c={};d={};function a(a){var c=a.id,d=a.items,e=a.isScrolledToBottomRef,f=a.setCovidSheet,g=a.dispatch,l=a.icebreakerUI,m=a.contextBannerData,n=a.welcomePageData,o=a.managePageMessagesLink,p=a.spacerRef,q=a.scrollerRef,r=a.buildSharedMediaViewerURL;l!==void 0&&b("bs_caml_option").valFromOption(l);var s=o!==void 0?b("bs_caml_option").valFromOption(o):null;a=b("MWTheme.bs").useTheme(void 0);l=b("MWChatThreadPos.bs").useThreadPosition(void 0);var t=l[0];o=b("VideoPlayerAutoplayRulesProvider").provideAutoplayRules("default_feed");var u=b("MWLSThreadHasMoreMessages.bs").useThreadHasMoreMessages(void 0),v=d.map(function(a,c){a=a.VAL;var d=b("gkx")("1217157"),e,h=0;d&&!(b("cr:1601105")==null)?e=i.jsx(b("cr:1601105").make,{pos:t,items:a,managePageMessagesLink:s,dispatch:function(a){return g(a)},setCovidSheet:f,buildSharedMediaViewerURL:r}):h=1;h===1&&(e=i.jsx(b("MWChatMessageList.bs").make,{pos:t,items:a,managePageMessagesLink:s,dispatch:function(a){return g(a)},setCovidSheet:f,buildSharedMediaViewerURL:r}));return i.jsx(b("BaseHeadingContextWrapper.re").make,{children:e},String(c))}),w;if(d.length!==1)w=!1;else{d=d[0];w=d.VAL.length===0}d=b("MWChatViewerChatVisibilityHook")();return i.jsx(b("VideoAutoplayLocalScopeProvider.react"),{children:i.jsxs(b("MWChatConversationScroller_DEPRECATED.bs").make,{children:[i.jsx(b("MWChatThreadContext.bs").make,{id:c,contextBannerData:m,welcomePageData:n}),i.jsx("div",{ref:p,className:(h||(h=b("stylex")))(k.spacer,b("MWTheme.bs").isGradient(a)?k.mask:!1)}),i.jsx(b("CometHeroHoldTrigger.react"),{description:"MWChatTab",hold:w&&u}),w?u?i.jsx("div",{children:i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24}),className:(h||(h=b("stylex")))(k.spinner,k.mask)}):null:i.jsx(b("MWChatMessageTableFocusTable.bs").keyCommands,{children:i.jsx(b("MWChatMessageTableFocusTable.bs").Table_.Table.make,{tabScopeQuery:b("focusScopeQueries").tabbableScopeQuery,wrapX:!0,wrapY:!1,allowModifiers:!0,children:i.jsx(b("BaseHeadingContextWrapper.re").make,{children:i.jsx("div",{children:v,"aria-label":j,role:"grid"})})})}),d?i.jsx(b("cr:1667445").make,{}):null,i.jsx(b("MWUIQuickReplies.bs").make,{})],boundingClientRectRef:l[1],isScrolledToBottomRef:e,dispatch:function(a){switch(a){case 0:return g("ContentDoesNotFillContainer");case 1:return g("ScrollToBottom");case 2:return g("ScrollToTop")}},ref:q}),autoplayLocalRules:o})}e=b("cr:1667445");g=a;f.messagesFbt=j;f.styles=k;f.VideoAutoplayLocalScopeProvider=c;f.VideoPlayerAutoplayRulesProvider=d;f.$ChatGeminiMessageList$OR$null$requireCond=b("cr:1601105");f.$ChatGeminiTypingIndicators$OR$MWChatTypingIndicators$requireCond=b("cr:1667445");f.TypingIndicators=e;f.make=g}),null);
__d("MWChatWorkDeactivatedComposer.bs",["fbt","React","stylex","TetraText.react","TetraTextPairing.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{borderTop:"opwvks06",color:"m9osqain",marginTop:"n1l5q3vz",paddingTop:"pybr56ya",paddingEnd:"d1544ag0",paddingBottom:"f10w8fjw",paddingStart:"tw6a2znq"}};function a(a){a=g._("You can't send a message to this chat");var c=g._("The profile you're trying to message has been deactivated.");return i.jsx("div",{children:i.jsx(b("TetraTextPairing.react"),{body:i.jsx(b("TetraText.react"),{color:"secondary",type:"body4",children:c}),headline:i.jsx(b("TetraText.react"),{color:"secondary",type:"bodyLink4",children:a}),textAlign:"center"}),className:(h||(h=b("stylex")))(j.root)})}c=a;f.styles=j;f.make=c}),null);
__d("MWUIDisabledPageComposer.bs",["requireCond","cr:1772081"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1772081").make;f.$LSDisabledPageComposer$OR$MWChatDisabledPageComposer$requireCond=b("cr:1772081");f.make=a}),null);
__d("MWChatTabContent.bs",["bs_curry","React","MWTheme.bs","SkytaleDB","JSResource","bs_caml_option","MWThreadKey.bs","MWChatThread.bs","SkytaleDBHook.bs","MWChatComposer.bs","SkytaleDBQuery.bs","MWUIThreadEmoji.bs","MessengerWebEvent","BootloaderResource","MWChatEmptyComposer.bs","MWChatSolidReaction.bs","MWChatTabContentStyles.bs","MWChatLeftGroupComposer.bs","MWUIDisabledPageComposer.bs","LSThreadNullstateContainer.bs","MWChatThreadAnimationWrapper.bs","MWChatWorkDeactivatedComposer.bs","MessengerWebStgTypedLoggerLite.bs","SkytaleDBQuerySubscriptionHook.bs","MWChatComposerP2PPopoverTrigger.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React"),i=(g=b("JSResource"))("MWChatBlockedComposer.bs").__setRef("MWChatTabContent.bs");function j(a,c,d,e){e={fbid:a,reportingToken:c};d!==void 0&&(e.size=b("bs_caml_option").valFromOption(d));return e}function k(a){return h.createElement(b("BootloaderResource").read(i).make,a)}var l={reasonResource:i,makeProps:j,make:k},m=g("MWChatBlockedPageComposer.bs").__setRef("MWChatTabContent.bs");function a(a,b,c){return{fbid:a,reportingToken:b}}function n(a){return h.createElement(b("BootloaderResource").read(m).make,a)}a={reasonResource:m,makeProps:a,make:n};var o=g("MWChatWorkMessageRequestComposer.bs").__setRef("MWChatTabContent.bs");function c(a,b){return{closeTab:a}}function p(a){return h.createElement(b("BootloaderResource").read(o).make,a)}c={reasonResource:o,makeProps:c,make:p};var q=g("InternalOnlyWorkChatComposerExtras.bs").__setRef("MWChatTabContent.bs");function d(a){return{}}function r(a){return h.createElement(b("BootloaderResource").read(q).make,a)}g={reasonResource:q,makeProps:d,make:r};function e(a){var c=a.id,d=a.items,e=a.otherUserFbid,f=a.contextBannerData,g=a.welcomePageData,i=a.isTabFocused,l=a.isScrolledToBottomRef,m=a.initialComposerViewState,o=a.scrollerRef,q=a.shouldShowMenu,s=a.composerType,t=a.dispatch,u=a.closeTab,v=a.endFirstChatTabOpenLoggerRef,w=a.icebreakerUI,x=a.managePageMessagesLink,y=a.hasContent,z=a.repliedToMessage,A=a.buildSharedMediaViewerURL,B=a.messageRequestInfoText,C=a.sendTypingIndicator,D=a.closeReplyPreview,E=a.onSendMessage,F=w!==void 0?b("bs_caml_option").valFromOption(w):null,G=b("MWTheme.bs").useTheme(void 0);a=b("MWChatSolidReaction.bs").useUook(void 0);var H=a[1],I=b("SkytaleDBHook.bs").useHook(void 0),J=b("MWThreadKey.bs").useIdMemoizedExn(void 0),K=b("SkytaleDBQuerySubscriptionHook.bs").useFirst(h.useMemo(function(){return b("SkytaleDBQuery.bs").getKeyRange(b("SkytaleDB").table(I,"threads").asc,{hd:J,tl:0})},[I,J])),L;if(typeof s==="number")L=s===0?!0:!1;else switch(s.TAG|0){case 0:case 1:L=!1;break;default:L=!1}h.useEffect(function(){if(!v.current){v.current=!0;var a;if(typeof c==="string")a=null;else{var d=c.NAME;a=d==="User"||d==="Page"?c.VAL:null}b("MessengerWebStgTypedLoggerLite.bs").log({event_name:b("MessengerWebEvent").RENDER_FIRST_THREAD_CONTENT,other_user_fbid:a,thread_fbid:typeof c==="string"||c.NAME!=="Group"?null:c.VAL})}},[v,c]);var M=function(a){if(l.current!==0)return;a=o.current;if(!(a==null))return a.scrollToBottom()},N=function(a){return M(void 0)},O=function(a){return M(void 0)};return h.jsx(b("MWChatThreadAnimationWrapper.bs").make,{composer:function(a,c,d,f){var g=b("bs_curry")._1(b("MWUIThreadEmoji.bs").useEmoji,void 0);g={color:b("MWTheme.bs").bottom(G),otherUserFbid:e,customLikeEmoji:g,isTabFocused:i,shouldShowMenu:q,hasContent:y,repliedToMessage:z,actionTrayOpen:f,closeActionTray:c,onContentsChange:N,onFileUploadStart:O,openActionTray:a,fileUploadHandlerRef:d,closeReplyPreview:D,openTabFromPreview:function(a){return t("OpenTabFromPreview")},closeTab:u,onSendMessage:E};m!==void 0&&(g.initialComposerViewState=b("bs_caml_option").valFromOption(m));B!==void 0&&(g.messageRequestInfoText=b("bs_caml_option").valFromOption(B));C!==void 0&&(g.onTypingStateChanged=b("bs_caml_option").valFromOption(C));f=h.jsx(b("MWChatComposer.bs").make,g);if(typeof s==="number")switch(s){case 0:return f;case 1:return h.jsx(b("MWUIDisabledPageComposer.bs").make,{});case 2:return h.jsx(b("MWChatLeftGroupComposer.bs").make,{});case 3:return h.jsx(h.Suspense,{children:h.jsx(p,{closeTab:u}),fallback:null});case 4:return h.jsx(b("MWChatWorkDeactivatedComposer.bs").make,{});case 5:return h.jsxs(h.Fragment,{children:[h.jsx(h.Suspense,{children:h.jsx(r,{}),fallback:null}),f]});case 6:return h.jsx(b("MWChatEmptyComposer.bs").make,{})}else switch(s.TAG|0){case 0:return h.jsx(h.Suspense,{children:h.jsx(k,j(s.otherUserFbid,s.reportingToken,void 0,void 0)),fallback:null});case 1:return h.jsx(h.Suspense,{children:h.jsx(n,{fbid:s.otherUserFbid,reportingToken:s.reportingToken}),fallback:null});case 2:if(K!==void 0)return h.jsx(b("LSThreadNullstateContainer.bs").make,{thread:K});else return null}},threadView:function(a){return h.jsx(b("MWChatThread.bs").make,{id:c,items:d,isScrolledToBottomRef:l,setCovidSheet:H,dispatch:t,icebreakerUI:F,contextBannerData:f,welcomePageData:g,managePageMessagesLink:x,spacerRef:a,scrollerRef:o,buildSharedMediaViewerURL:A})},animationEnabled:L,ensureScrolledToBottom:M,covidSheet:a[0],mediaDropDisabled:s!==0,id:c,contextBannerData:f,welcomePageData:g,shouldInitiallyOpenActionTray:b("MWChatComposerP2PPopoverTrigger.bs").shouldShowOnLoad(c),senderUnsendNUXEnabled:i})}d=b("MWChatTabContentStyles.bs").styles;e=e;f.MWChatBlockedComposerLazy=l;f.MWChatBlockedPageComposerLazy=a;f.MWChatWorkMessageRequestComposerLazy=c;f.InternalOnlyWorkChatComposerExtrasLazy=g;f.styles=d;f.make=e}),null);
__d("MWChatTabContentNew.bs",["bs_curry","React","MWTheme.bs","stylex","bs_caml_option","MWChatComposer.bs","MWUIThreadEmoji.bs","MWChatTabContent.bs","MWUIChatContextBanner.bs","MWUILoadThreadPicture.bs","MWChatThread_DEPRECATED.bs","MWChatComposerMediaDropTarget.bs"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");function i(a){var c=a.id,d=a.contextBannerData,e=a.items,f=a.dispatch,i=a.closeTab,j=a.otherUserFbid,k=a.customLikeEmoji,l=a.isTabFocused,m=a.hasContent,n=a.repliedToMessage,o=a.buildSharedMediaViewerURL,p=a.closeReplyPreview,q=a.onSendMessage;a=a.isOptimisticThread;a=a!==void 0?a:!1;var r=b("MWTheme.bs").useTheme(void 0),s=h.useRef(0),t=h.useState(function(){return!1}),u=t[1],v=h.useRef(null),w=h.useRef(null),x=h.useRef(null),y;y=r.TAG?{backgroundImage:b("MWTheme.bs").gradient(void 0,void 0,r._0.colors)}:void 0;c={children:h.jsx(b("MWChatThread_DEPRECATED.bs").make,{id:c,items:e,isScrolledToBottomRef:s,dispatch:f,contextBannerData:d,welcomePageData:void 0,spacerRef:w,scrollerRef:v,buildSharedMediaViewerURL:o}),className:(g||(g=b("stylex")))(b("MWChatTabContent.bs").styles.thread)};y!==void 0&&(c.style=b("bs_caml_option").valFromOption(y));return h.jsx(h.Fragment,{children:h.jsx("div",{children:h.jsxs(b("MWChatComposerMediaDropTarget.bs").make,{children:[h.jsx("div",c),h.jsx("div",{children:h.jsx(b("MWChatComposer.bs").make,{color:b("MWTheme.bs").bottom(r),otherUserFbid:j,isPreviewThread:!0,isOptimisticThread:a,customLikeEmoji:k,isTabFocused:l,shouldShowMenu:!1,hasContent:m,repliedToMessage:n,actionTrayOpen:t[0],closeActionTray:function(a){return b("bs_curry")._1(u,function(a){return!1})},openActionTray:function(a){return b("bs_curry")._1(u,function(a){return!0})},fileUploadHandlerRef:x,closeReplyPreview:p,openTabFromPreview:function(a){return f("OpenTabFromPreview")},closeTab:i,onSendMessage:q}),className:g(b("MWChatTabContent.bs").styles.composer)})],disabled:!1,fileUploadHandler:b("bs_caml_option").nullable_to_opt(x.current),xstyle:b("MWChatTabContent.bs").styles.dropTarget}),className:g(b("MWChatTabContent.bs").styles.main)})})}c={make:i};function a(a){var c=a.id,d=a.isTabFocused,e=a.dispatch,f=a.closeTab,g=a.messages,j=a.hasContent,k=a.changeRepliedToMessage,l=a.repliedToMessage,m=a.buildSharedMediaViewerURL,n=a.closeReplyPreview,o=a.onSendMessage;a=a.isOptimisticThread;a=a!==void 0?a:!1;var p=b("bs_curry")._1(b("MWUILoadThreadPicture.bs").useHook,void 0);p=b("bs_curry")._4(b("MWUIChatContextBanner.bs").useContextBanner,c,p,!0,void 0);var q;if(typeof c==="string")q=void 0;else{var r=c.NAME;q=r==="User"||r==="Page"?b("bs_caml_option").some(c.VAL):void 0}r=b("bs_curry")._1(b("MWUIThreadEmoji.bs").useEmoji,void 0);var s=function(a){if(typeof a==="string"||a.NAME!=="ClickReplyTo")return e(a);else return b("bs_curry")._1(k,a.VAL)};return h.jsx(i,{id:c,contextBannerData:p,items:g,dispatch:s,closeTab:f,otherUserFbid:q,customLikeEmoji:r,isTabFocused:d,hasContent:j,repliedToMessage:l,buildSharedMediaViewerURL:m,closeReplyPreview:n,onSendMessage:o,isOptimisticThread:a})}d=b("MWChatTabContent.bs").styles;e=a;f.styles=d;f.Inner=c;f.make=e}),null);
__d("MWChatTabNew.bs",["bs_curry","React","MWTheme.bs","MWUITheme.bs","stylex","bs_belt_Option","bs_caml_option","MWThreadKey.bs","MWChatComposer.bs","MWUIChatTabState.bs","MWUIChatThreadHook.bs","MWChatTabContentNew.bs","MWThread_DEPRECATED.bs","MWUIRepliedToMessage.bs","recoverableViolation","CometPlaceholder.react","MWChatTabContentStyles.bs","MWUILoadThreadMessages.bs","unrecoverableViolation","MWChatConnectionStatusCard.bs","MWChatComposerMediaDropTarget.bs","XCometMessengerMediaControllerRouteBuilder","XCometMessengerPhotoControllerRouteBuilder"],(function(a,b,c,d,e,f){"use strict";var g,h=b("React");function i(a){a.tokens;var c=a.hasContent,d=a.isTabFocused,e=a.openTabForGroup;a=function(a){if(typeof a==="string"||a.NAME!=="Group"){b("recoverableViolation")("expected group","messenger_web_product");return}else return b("bs_curry")._1(e,a.VAL)};var f=h.useRef(null);return h.jsx("div",{children:h.jsxs(b("MWChatComposerMediaDropTarget.bs").make,{children:[h.jsx("div",{className:(g||(g=b("stylex")))(b("MWChatTabContentStyles.bs").styles.thread)}),h.jsx("div",{children:h.jsx(b("MWChatComposer.bs").make,{color:b("MWTheme.bs").bottom(b("MWTheme.bs").$$default),otherUserFbid:void 0,isPreviewThread:!0,customLikeEmoji:void 0,isTabFocused:d,shouldShowMenu:!1,hasContent:c,repliedToMessage:void 0,actionTrayOpen:!1,closeActionTray:function(a){},openActionTray:function(a){},fileUploadHandlerRef:f,closeReplyPreview:function(a){},openTabFromPreview:function(a){},closeTab:function(a){},onSendMessage:a}),className:g(b("MWChatTabContentStyles.bs").styles.composer)})],disabled:!1,fileUploadHandler:b("bs_caml_option").nullable_to_opt(f.current),xstyle:b("MWChatTabContentStyles.bs").styles.dropTarget}),className:g(b("MWChatTabContentStyles.bs").styles.main)})}c={make:i};function j(a){var c=a.threadId;a=a.children;b("bs_curry")._1(b("MWUIChatThreadHook.bs").useThread,c);return a}d={make:j};function k(a){var c=a.isTabFocused,d=a.hasContent,e=a.openTabForGroup,f=a.openTabForUser,g=a.openTabForPage;a=a.isOptimisticThread;a=a!==void 0?a:!1;var i=b("MWThread_DEPRECATED.bs").useIdExn(void 0),j=b("bs_curry")._1(b("MWUIRepliedToMessage.bs").useCurrentlyRepliedToMessage,void 0),k=j[2],l=function(a){var c=a.NAME;if(c==="Group")return b("bs_curry")._1(e,a.VAL);else if(c==="Page")return b("bs_curry")._1(g,a.VAL);else if(c==="User")return b("bs_curry")._1(f,a.VAL);else return b("unrecoverableViolation")("Not supported","messenger_web_product")},m=function(a,c){if(c)return b("XCometMessengerPhotoControllerRouteBuilder").buildURL({photo_ids:a.photo_ids,fbid:a.fbid,message_id:a.message_id});else return b("XCometMessengerMediaControllerRouteBuilder").buildURL({thread_id:i.VAL,attachment_id:a.fbid,message_id:a.message_id})},n=h.useState(function(){}),o=n[1];n=[{NAME:"Messages",VAL:b("bs_curry")._2(b("MWUILoadThreadMessages.bs").useMessageItems,void 0,0)}];var p=b("bs_curry")._1(b("MWUITheme.bs").useTheme,void 0);return h.jsx(b("CometPlaceholder.react"),{children:h.jsx(b("MWTheme.bs").provider,{theme:p,children:h.jsx(b("MWChatTabContentNew.bs").make,{id:i,isTabFocused:c,dispatch:function(a){if(typeof a==="string")if(a==="OpenTabFromPreview")return l(i);else if(a==="CloseReplyPreview")return b("bs_curry")._1(k,void 0);else return},closeTab:function(a){},messages:n,hasContent:d,changeRepliedToMessage:j[1],repliedToMessage:j[0],buildSharedMediaViewerURL:m,closeReplyPreview:function(a){return b("bs_curry")._1(o,function(a){})},onSendMessage:l,isOptimisticThread:a})}),fallback:null})}e={make:k};function a(a){var c=a.previewThreadID,d=a.isTabFocused,e=a.isFetching,f=a.hasContent,g=a.tokens,l=a.openTabForUser,m=a.openTabForGroup,n=a.openTabForPage;a=a.empty;a=a!==void 0?b("bs_caml_option").valFromOption(a):null;return h.jsxs(h.Fragment,{children:[h.jsx(b("MWChatConnectionStatusCard.bs").make,{}),e?null:c!==void 0?h.jsx(b("MWThread_DEPRECATED.bs").make,{id:c,children:h.jsx(b("MWThreadKey.bs").make,{id:b("MWThread_DEPRECATED.bs").toThreadKey(c),children:h.jsx(b("MWUIChatTabState.bs").Provider.make,{tab:{_0:c},children:h.jsx(j,{children:h.jsx(k,{isTabFocused:d,hasContent:f,openTabForGroup:m,openTabForUser:l,openTabForPage:n}),threadId:c})})})}):g.length!==0?h.jsx(b("MWUIChatTabState.bs").Provider.make,{tab:0,tokenProvider:function(a){return g.map(function(a){return a.getRawData().id})},children:h.jsx(i,{tokens:g,hasContent:f,isTabFocused:d,openTabForGroup:m})}):a]})}var l=b("bs_belt_Option").getWithDefault,m=b("MWChatTabContentStyles.bs").styles;a=a;f.$pipe$question=l;f.contentStyles=m;f.ComposerToCreateNewThread=c;f.ExistingThreadPreviewContainer=d;f.ExistingThreadPreview=e;f.make=a}),null);