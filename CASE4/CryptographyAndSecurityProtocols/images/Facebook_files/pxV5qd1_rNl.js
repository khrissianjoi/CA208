if (self.CavalryLogger) { CavalryLogger.start_js(["ifYJO"]); }

__d("LSCoreForceImmediateSyncStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["af1a272ff325af66"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["af1a272ff325af66"]);h=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.seq([function(a){return b.nop(10,c(h()))},function(c){return b.db.table(1).getArr([[[a[0]]]]).filter(function(c){return b.i64.eq(c.a,a[0])}).forEach(function(a){var c=a.update;a.item;return c({f:b.i64.of_float(Date.now())})})},function(a){return b.nop(11,c(g()))}])},function(a){return b.resolve(d)}])};e.exports=a}),null);
__d("LSInThreadBannerFetchBannersStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["da142467c9efc44a"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["90"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["da142467c9efc44a"]);j=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(a){return b.nop(10,c(j()))},function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("thread_key",a[0])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","in_thread_banner_fetch_activity_banners_queue",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(a){return b.nop(11,c(g()))}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxCreateGroupThreadWithAdminTextStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["6c144cd0ef1b6700"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["104"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["6c144cd0ef1b6700"]);m=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(a){return b.nop(10,c(m()))},function(f){return b.seq([function(c){return b.sp("168",a[0],a[1],a[2]).then(function(a){return a=a,d[0]=a[0],a})},function(a){return b.sp("154",b.i64.of_float(Date.now())).then(function(a){return a=a,d[1]=a[0],a})},function(a){return b.db.table(9).getArr([[[d[0]]]]).filter(function(a){return b.i64.eq(a.a,d[0])}).forEach(function(a){var c=a.update;a.item;return c({S:b.i64.to_string(d[1])})})},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("thread_id",d[0])],[d[2].set("otid",b.i64.to_string(d[1]))],[d[2].set("source",c(l()))],[d[2].set("send_type",c(k()))],e=[new b.Map()],d[3]=e[0],e,[d[3].set("participants",a[0])],[d[3].set("send_payload",d[2])],a[2]!==void 0?[d[3].set("thread_name",a[2])]:0,e=[d[3].get("send_payload"),d[3]],d[4]=e[0],e,e=[d[4].get("thread_id"),d[4]],d[5]=e[0],e,e=[b.toJSON(d[3])],d[6]=e[0],e,b.sp("1",b.i64.to_string(d[5]),c(j()),d[6],void 0,void 0,c(i()),c(h()))},function(a){return a=[d[0]],e[0]=a[0],a}])},function(a){return b.nop(11,c(g()))}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxIssuePollCreationForThreadTaskStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["407a446bccfecf92"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["146"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["407a446bccfecf92"]);j=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(a){return b.nop(10,c(j()))},function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("question_text",a[0])],[d[0].set("thread_key",a[1])],[d[0].set("options",a[2])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","poll_creation",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(a){return b.nop(11,c(g()))}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxIssuePollUpdateForThreadStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["4461310fb461818c"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["148"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["4461310fb461818c"]);j=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(a){return b.nop(10,c(j()))},function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("thread_key",a[0])],[d[0].set("poll_id",a[1])],[d[0].set("added_options",a[2])],[d[0].set("selected_options",a[3])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","poll_update",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(a){return b.nop(11,c(g()))}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxLocalApplyOptimisticMessageWithAttachmentsStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5a94db5e3d06f5a2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["5a94db5e3d06f5a2"]);p=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(a){return b.nop(10,c(p()))},function(f){return b.seq([function(c){return b.sp("32",a[0],a[1],a[2],a[3],a[4],a[5],a[6],void 0,a[7],a[8],a[9],void 0,!0).then(function(a){return a=a,d[0]=a[0],d[1]=a[1],a})},function(e){return e=[b.i64.of_int32(a[10].length)],d[2]=e[0],e,b.i64.gt(d[2],c(o()))?b.loopAsync(d[2],function(e){return d[3]=e,b.seq([function(c){return b.ntop("Array",3,a[10],d[3]).then(function(a){return a=a,d[4]=a[0],a})},function(e){return e=[d[4].get("attachment_fbid"),d[4]],d[5]=e[0],e,e=[d[4].get("offline_attachment_id"),d[4]],d[6]=e[0],e,e=[d[4].get("attachment_type"),d[4]],d[7]=e[0],e,e=[d[4].get("filename"),d[4]],d[8]=e[0],e,e=[d[4].get("filesize"),d[4]],d[9]=e[0],e,e=[d[4].get("attachment_index"),d[4]],d[10]=e[0],e,e=[d[4].get("has_media"),d[4]],d[11]=e[0],e,e=[d[4].get("has_xma"),d[4]],d[12]=e[0],e,e=[d[4].get("playable_url"),d[4]],d[13]=e[0],e,e=[d[4].get("playable_url_mime_type"),d[4]],d[14]=e[0],e,e=[d[4].get("playable_duration_ms"),d[4]],d[15]=e[0],e,e=[d[4].get("preview_url"),d[4]],d[16]=e[0],e,e=[d[4].get("preview_url_mime_type"),d[4]],d[17]=e[0],e,e=[d[4].get("mini_preview"),d[4]],d[18]=e[0],e,e=[d[4].get("preview_width"),d[4]],d[19]=e[0],e,e=[d[4].get("preview_height"),d[4]],d[20]=e[0],e,e=[d[4].get("xma_layout_type"),d[4]],d[21]=e[0],e,e=[d[4].get("xmas_template_type"),d[4]],d[22]=e[0],e,e=[d[4].get("cta1_title"),d[4]],d[23]=e[0],e,e=[d[4].get("cta2_title"),d[4]],d[24]=e[0],e,e=[d[4].get("cta3_title"),d[4]],d[25]=e[0],e,e=[d[4].get("image_url"),d[4]],d[26]=e[0],e,e=[d[4].get("action_url"),d[4]],d[27]=e[0],e,e=[d[4].get("title_text"),d[4]],d[28]=e[0],e,e=[d[4].get("subtitle_text"),d[4]],d[29]=e[0],e,e=[d[4].get("description_text"),d[4]],d[30]=e[0],e,e=[d[4].get("source_text"),d[4]],d[31]=e[0],e,e=[d[4].get("original_file_hash"),d[4]],d[32]=e[0],e,b.db.table(16).getArr([[[a[1],d[0],d[5]]]]).filter(function(e){return b.i64.eq(e.a,a[1])&&b.i64.eq(c(n()),c(m()))&&e.c===d[0]&&b.i64.eq(c(l()),c(k()))&&e.e===d[5]&&b.i64.gt(e.bU,c(j()))}).next().then(function(e){var f=e.done;e.value;return f?b.db.table(16).put({a:a[1],c:d[0],e:d[5],b:d[1],d:d[6],f:d[7],h:d[8],i:d[9],be:d[10],j:d[11],l:d[12],k:!1,A:d[13],D:d[14],bd:d[15],F:d[16],I:d[17],J:d[18],K:d[19],L:d[20],m:d[21],n:d[22],s:d[23],v:d[24],y:d[25],M:d[26],Q:d[27],R:d[28],S:d[29],V:d[30],W:d[31],bJ:d[32],bU:c(i())}):0})}])}):b.resolve()},function(e){return e=[b.i64.of_int32(a[10].length)],d[2]=e[0],e,b.i64.gt(d[2],c(h()))?b.sp("90",a[1],d[0],d[1],a[3],!1,b.i64.neq(a[6],void 0)):b.resolve()},function(a){return a=[d[0],d[1]],e[0]=a[0],e[1]=a[1],a}])},function(a){return b.nop(11,c(g()))}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticDeleteThreadStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["ea6d2457eb069a24"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["ac"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["ea6d2457eb069a24"]);k=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(a){return b.nop(10,c(k()))},function(e){return b.seq([function(c){return b.sp("55",a[0],!1)},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[0]=c[0],c):(b=a.item,c=[b.c],d[0]=c[0],c)})},function(a){return d[0]===!0?b.sp("11",void 0,c(j()),"ERROR TITLE SHOULD BE DEFINED ON CLIENT","ERROR DESCRIPTION SHOULD BE DEFINED ON CLIENT"):b.resolve()},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("thread_key",a[0])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("1","delete_thread_v2",c(i()),d[3],void 0,void 0,c(h()),void 0)}])},function(a){return b.nop(11,c(g()))}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticMarkThreadReadV2StoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["5ba753933622b648"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["5ba753933622b648"]);j=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(a){return b.nop(10,c(j()))},function(e){return b.seq([function(c){return b.sp("48",a[1],a[0])},function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("thread_id",a[0])],[d[0].set("last_read_watermark_ts",a[1])],e=[d[0].get("thread_id"),d[0]],d[1]=e[0],e,e=[b.toJSON(d[0])],d[2]=e[0],e,b.sp("1",b.i64.to_string(d[1]),c(i()),d[2],void 0,void 0,c(h()),void 0)}])},function(a){return b.nop(11,c(g()))}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticRemoveParticipantsFromGroupThreadStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["9e30a604db87cc86"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["118"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2f270a"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["9e30a604db87cc86"]);l=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(a){return b.nop(10,c(l()))},function(e){return e=[b.i64.of_int32(a[1].length)],d[0]=e[0],e,b.i64.gt(d[0],c(k()))?b.loopAsync(d[0],function(e){return d[1]=e,b.seq([function(c){return b.ntop("Array",3,a[1],d[1]).then(function(a){return a=a,d[2]=a[0],a})},function(c){return b.sp("99",a[0],d[2])},function(a){return b.db.table(115).getArr().sortBy([["b","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[!1],d[3]=c[0],c):(b=a.item,c=[b.c],d[3]=c[0],c)})},function(a){return d[3]===!0?b.sp("11",void 0,c(j()),"ERROR TITLE SHOULD BE DEFINED ON CLIENT","ERROR DESCRIPTION SHOULD BE DEFINED ON CLIENT"):b.resolve()},function(e){return e=[new b.Map()],d[5]=e[0],e,[d[5].set("thread_id",a[0])],[d[5].set("contact_id",d[2])],e=[b.toJSON(d[5])],d[6]=e[0],e,b.sp("1","remove_participant_v2",c(i()),d[6],void 0,void 0,c(h()),void 0)}])}):b.resolve()},function(a){return b.nop(11,c(g()))}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticSendAttachmentForwardStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["3537db26a0b5e124"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["5c"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["28"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["3537db26a0b5e124"]);p=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(a){return b.nop(10,c(p()))},function(f){return b.seq([function(e){return d[2]=a[3]===""?void 0:a[3],d[2]!==void 0?b.seq([function(e){return b.db.table(16).getArr([[[a[1],d[2]]]]).filter(function(e){return b.i64.eq(e.a,a[1])&&e.c===d[2]&&b.i64.eq(e.bU,c(o()))}).forEach(function(c){var d=c.update;c.item;return d({e:b.i64.to_string(a[7])})})},function(a){return a=[d[2]],d[1]=a[0],a}]):b.seq([function(e){return b.sp("32",a[0],a[1],a[2],a[4],a[5],a[6],void 0,void 0,void 0,void 0,c(n()),void 0,!0).then(function(a){return a=a,d[3]=a[0],d[4]=a[1],a})},function(e){return b.db.table(16).getArr().filter(function(c){return c.e===b.i64.to_string(a[7])}).next().then(function(e,f){var g=e.done;e=e.value;return g?b.sp("33",a[1],d[4],d[3],d[3],b.i64.to_string(a[7]),c(m()),void 0,void 0,!0,!1):(f=e.item,b.seq([function(c){return b.sp("33",a[1],d[4],d[3],d[3],b.i64.to_string(a[7]),f.f,f.h,f.X,!0,!1)},function(c){return b.sp("399",a[1],d[3],b.i64.to_string(a[7]),f.A,f.B,f.C,f.D,f.F,f.G,f.H,f.I,f.K,f.L)}]))})},function(a){return a=[d[3]],d[1]=a[0],a}])},function(e){return b.seq([function(e){return e=[b.createArray()],d[3]=e[0],e,[(d[3].push(a[7]),d[3])],e=[new b.Map()],d[4]=e[0],e,[d[4].set("thread_id",a[1])],[d[4].set("otid",d[1])],[d[4].set("text",a[4])],[d[4].set("attachment_fbids",d[3])],[d[4].set("send_type",c(l()))],[d[4].set("source",a[8])],e=[d[4].get("thread_id"),d[4]],d[5]=e[0],e,e=[b.toJSON(d[4])],d[6]=e[0],e,b.sp("2",b.i64.to_string(d[5]),c(k()),d[6],void 0,void 0,c(j()),void 0).then(function(a){return a=a,d[7]=a[0],a})},function(e){return b.db.table(31).add({a:d[7],b:a[1],c:d[1],e:a[8],k:c(i()),l:!1})},function(e){return e=[b.createArray()],d[8]=e[0],e,e=[(d[8].push("optimisticSendAttachmentForward"),d[8])],d[9]=e[0],e,e=[(d[8].push(a[1]),d[8])],d[10]=e[0],e,e=[(d[8].push(a[7]),d[8])],d[11]=e[0],e,e=[b.toJSON(d[8])],d[12]=e[0],e,b.log(d[12],c(h()))}])},function(a){return a=[d[1]],e[0]=a[0],a}])},function(a){return b.nop(11,c(g()))}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticSendMessageForwardStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["f7771d1c9351cb2e"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["5c"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["a0"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["f7771d1c9351cb2e"]);r=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(a){return b.nop(10,c(r()))},function(f){return b.seq([function(e){return b.db.table(12).getArr([[[a[3],a[4],a[5]]]]).filter(function(d){return b.i64.eq(d.a,a[3])&&b.i64.eq(c(q()),c(p()))&&b.i64.eq(d.b,a[4])&&d.e===a[5]&&b.i64.eq(d.V,c(o()))}).next().then(function(e,f){var g=e.done;e=e.value;return g?(g=[b.createArray()],d[2]=g[0],g,g=[(d[2].push("optimisticSendMessageForward msg not found"),d[2])],d[3]=g[0],g,g=[(d[2].push(a[5]),d[2])],d[4]=g[0],g,g=[b.toJSON(d[2])],d[5]=g[0],g,b.log(d[5],c(n())),g=[""],d[0]=g[0],g):(f=e.item,b.seq([function(e){return b.sp("32",a[0],a[1],a[2],f.g,void 0,void 0,f.i,f.U,void 0,void 0,c(m()),void 0,!0).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],a})},function(c){return b.db.table(16).getArr([[[f.a,f.e]]]).filter(function(a){return b.i64.eq(a.a,f.a)&&a.c===f.e}).forEach(function(c){var e=c.item;return b.seq([function(c){return d[13]=e.e,c=[b.createArray()],d[9]=c[0],c,c=[(d[9].push(d[13]),d[9])],d[10]=c[0],c,c=[(d[9].push(d[2]),d[9])],d[11]=c[0],c,c=[b.toJSON(d[9])],d[12]=c[0],c,b.sp("33",a[1],d[3],d[2],d[13],d[12],e.f,e.h,void 0,e.j,e.l)},function(c){return b.sp("399",a[1],d[2],d[12],e.A,e.B,e.C,e.D,e.F,e.G,e.H,e.I,e.K,e.L)}])})},function(e){return e=[new b.Map()],d[4]=e[0],e,[d[4].set("thread_id",a[1])],[d[4].set("otid",d[2])],[d[4].set("forwarded_msg_id",a[5])],[d[4].set("send_type",c(l()))],[d[4].set("source",a[6])],e=[d[4].get("thread_id"),d[4]],d[5]=e[0],e,e=[b.toJSON(d[4])],d[6]=e[0],e,b.sp("2",b.i64.to_string(d[5]),c(k()),d[6],void 0,void 0,c(j()),void 0).then(function(a){return a=a,d[7]=a[0],a})},function(e){return b.db.table(31).add({a:d[7],b:a[1],c:d[2],d:a[5],e:a[6],k:c(i()),l:!1})},function(e){return e=[new b.Map()],d[9]=e[0],e,e=[d[9].set("optimisticSendMessageForward",a[1])],d[10]=e[0],e,e=[d[9].set("fwdMsgID",a[5])],d[11]=e[0],e,e=[b.toJSON(d[9])],d[12]=e[0],e,e=[d[12]],d[8]=e[0],e,b.log(d[8],c(h())),e=[d[2]],d[0]=e[0],e}]))})},function(a){return a=[d[0]],e[0]=a[0],a}])},function(a){return b.nop(11,c(g()))}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMailboxOptimisticUnsendMessageStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["ec8424dfa1d0517e"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["42"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["ec8424dfa1d0517e"]);j=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(a){return b.nop(10,c(j()))},function(e){return e=[new b.Map()],d[0]=e[0],e,[d[0].set("message_id",a[0])],e=[b.toJSON(d[0])],d[1]=e[0],e,b.sp("1","unsend_message",c(i()),d[1],void 0,void 0,c(h()),void 0)},function(a){return b.nop(11,c(g()))}])},function(a){return b.resolve(e)}])};e.exports=a}),null);
__d("LSMediaSendInsertNewMediaSendStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2cdd9409d9775e8e"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);i=function(){return a};return a}function a(){var b=babelHelpers.taggedTemplateLiteralLoose(["5"]);a=function(){return b};return b}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2cdd9409d9775e8e"]);j=function(){return a};return a}b=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[];return b.seq([function(d){return b.seq([function(a){return b.nop(10,c(j()))},function(d){return b.db.table(51).add({a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5],g:a[6],h:a[7],i:a[4]?c(i()):c(h())})},function(a){return b.nop(11,c(g()))}])},function(a){return b.resolve(d)}])};e.exports=b}),null);
__d("LSMediaSendMarkSubJobCompletedV2StoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["24266c17fc0c3df4"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["18"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["14"]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["e"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["1c"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["1a"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);u=function(){return a};return a}function a(){var b=babelHelpers.taggedTemplateLiteralLoose(["3"]);a=function(){return b};return b}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["5"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["18"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["14"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["e"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["1c"]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["1a"]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);F=function(){return a};return a}function G(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);G=function(){return a};return a}function H(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);H=function(){return a};return a}function I(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);I=function(){return a};return a}function J(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);J=function(){return a};return a}function K(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);K=function(){return a};return a}function b(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);b=function(){return a};return a}function L(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);L=function(){return a};return a}function M(){var a=babelHelpers.taggedTemplateLiteralLoose(["5"]);M=function(){return a};return a}function N(){var a=babelHelpers.taggedTemplateLiteralLoose(["18"]);N=function(){return a};return a}function O(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);O=function(){return a};return a}function P(){var a=babelHelpers.taggedTemplateLiteralLoose(["14"]);P=function(){return a};return a}function Q(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);Q=function(){return a};return a}function R(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);R=function(){return a};return a}function S(){var a=babelHelpers.taggedTemplateLiteralLoose(["e"]);S=function(){return a};return a}function T(){var a=babelHelpers.taggedTemplateLiteralLoose(["1c"]);T=function(){return a};return a}function U(){var a=babelHelpers.taggedTemplateLiteralLoose(["1a"]);U=function(){return a};return a}function V(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);V=function(){return a};return a}function W(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);W=function(){return a};return a}function X(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);X=function(){return a};return a}function Y(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);Y=function(){return a};return a}function Z(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);Z=function(){return a};return a}function $(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);$=function(){return a};return a}function c(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);c=function(){return a};return a}function aa(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);aa=function(){return a};return a}function ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["5"]);ba=function(){return a};return a}function ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["18"]);ca=function(){return a};return a}function da(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);da=function(){return a};return a}function ea(){var a=babelHelpers.taggedTemplateLiteralLoose(["14"]);ea=function(){return a};return a}function fa(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);fa=function(){return a};return a}function ga(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);ga=function(){return a};return a}function ha(){var a=babelHelpers.taggedTemplateLiteralLoose(["e"]);ha=function(){return a};return a}function ia(){var a=babelHelpers.taggedTemplateLiteralLoose(["1c"]);ia=function(){return a};return a}function ja(){var a=babelHelpers.taggedTemplateLiteralLoose(["1a"]);ja=function(){return a};return a}function ka(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);ka=function(){return a};return a}function la(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);la=function(){return a};return a}function ma(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);ma=function(){return a};return a}function na(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);na=function(){return a};return a}function oa(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);oa=function(){return a};return a}function pa(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);pa=function(){return a};return a}function d(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);d=function(){return a};return a}function qa(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);qa=function(){return a};return a}function ra(){var a=babelHelpers.taggedTemplateLiteralLoose(["5"]);ra=function(){return a};return a}function sa(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);sa=function(){return a};return a}function ta(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ta=function(){return a};return a}function ua(){var a=babelHelpers.taggedTemplateLiteralLoose(["24266c17fc0c3df4"]);ua=function(){return a};return a}f=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(a){return b.nop(10,c(ua()))},function(e){return b.seq([function(c){return c=[b.createArray()],d[0]=c[0],c,b.db.table(51).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).next().then(function(a,c){var e=a.done;a=a.value;return e?0:(c=a.item,e=[new b.Map()],d[3]=e[0],e,[d[3].set("offline_attachment_id",c.a)],[d[3].set("offline_threading_id",c.b)],[d[3].set("in_message_index",c.c)],[d[3].set("attachment_type",c.d)],[d[3].set("should_transcode",c.e)],[d[3].set("use_double_phase",c.f)],[d[3].set("send_by_server",c.g)],[d[3].set("is_secure",c.h)],[d[3].set("state",c.i)],[d[3].set("fbid",c.j)],[d[3].set("metadata",c.k)],[d[3].set("error",c.l)],[d[3].set("message_id",c.m)],[(d[0].push(d[3]),d[0])])})},function(e){return e=[b.i64.of_int32(d[0].length)],d[2]=e[0],e,b.i64.neq(d[2],c(ta()))?b.seq([function(a){return b.ntop("Array",3,d[0],c(sa())).then(function(a){return a=a,d[3]=a[0],a})},function(e){return e=[d[3].get("state"),d[3]],d[4]=e[0],e,b.i64.neq(a[1],void 0)?a[2]!==void 0?(e=[new b.Map()],d[7]=e[0],e,[d[7].set("result_state",d[4])],b.i64.eq(d[4],c(ra()))?[d[7].set("result_state",c(qa()))]:b.i64.eq(d[4],c(pa()))?[d[7].set("result_state",c(oa()))]:b.i64.eq(d[4],c(na()))?[d[7].set("result_state",c(ma()))]:b.i64.eq(d[4],c(la()))?[d[7].set("result_state",c(ka()))]:b.i64.eq(d[4],c(ja()))?[d[7].set("result_state",c(ia()))]:b.i64.eq(d[4],c(ha()))?[d[7].set("result_state",c(ga()))]:b.i64.eq(d[4],c(fa()))?[d[7].set("result_state",c(ea()))]:b.i64.eq(d[4],c(da()))?[d[7].set("result_state",c(ca()))]:0,e=[d[7].get("result_state"),d[7]],d[9]=e[0],e,b.db.table(51).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).forEach(function(b){var c=b.update;b.item;return c({i:d[9],j:a[1],m:a[2],k:a[3]})})):(e=[new b.Map()],d[7]=e[0],e,[d[7].set("result_state",d[4])],b.i64.eq(d[4],c(ba()))?[d[7].set("result_state",c(aa()))]:b.i64.eq(d[4],c($()))?[d[7].set("result_state",c(Z()))]:b.i64.eq(d[4],c(Y()))?[d[7].set("result_state",c(X()))]:b.i64.eq(d[4],c(W()))?[d[7].set("result_state",c(V()))]:b.i64.eq(d[4],c(U()))?[d[7].set("result_state",c(T()))]:b.i64.eq(d[4],c(S()))?[d[7].set("result_state",c(R()))]:b.i64.eq(d[4],c(Q()))?[d[7].set("result_state",c(P()))]:b.i64.eq(d[4],c(O()))?[d[7].set("result_state",c(N()))]:0,e=[d[7].get("result_state"),d[7]],d[9]=e[0],e,b.db.table(51).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).forEach(function(b){var c=b.update;b.item;return c({i:d[9],j:a[1],k:a[3]})})):b.i64.neq(a[4],void 0)?(e=[new b.Map()],d[7]=e[0],e,[d[7].set("result_state",d[4])],b.i64.eq(d[4],c(M()))?[d[7].set("result_state",c(L()))]:b.i64.eq(d[4],c(K()))?[d[7].set("result_state",c(J()))]:b.i64.eq(d[4],c(I()))?[d[7].set("result_state",c(H()))]:b.i64.eq(d[4],c(G()))?[d[7].set("result_state",c(F()))]:b.i64.eq(d[4],c(E()))?[d[7].set("result_state",c(D()))]:b.i64.eq(d[4],c(C()))?[d[7].set("result_state",c(B()))]:b.i64.eq(d[4],c(A()))?[d[7].set("result_state",c(z()))]:b.i64.eq(d[4],c(y()))?[d[7].set("result_state",c(x()))]:0,e=[d[7].get("result_state"),d[7]],d[9]=e[0],e,b.db.table(51).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).forEach(function(b){var c=b.update;b.item;return c({i:d[9],l:a[4]})})):(e=[new b.Map()],d[7]=e[0],e,[d[7].set("result_state",d[4])],b.i64.eq(d[4],c(w()))?[d[7].set("result_state",c(v()))]:b.i64.eq(d[4],c(u()))?[d[7].set("result_state",c(t()))]:b.i64.eq(d[4],c(s()))?[d[7].set("result_state",c(r()))]:b.i64.eq(d[4],c(q()))?[d[7].set("result_state",c(p()))]:b.i64.eq(d[4],c(o()))?[d[7].set("result_state",c(n()))]:b.i64.eq(d[4],c(m()))?[d[7].set("result_state",c(l()))]:b.i64.eq(d[4],c(k()))?[d[7].set("result_state",c(j()))]:b.i64.eq(d[4],c(i()))?[d[7].set("result_state",c(h()))]:0,e=[d[7].get("result_state"),d[7]],d[9]=e[0],e,b.db.table(51).getArr([[[a[0]]]]).filter(function(b){return b.a===a[0]}).forEach(function(a){var b=a.update;a.item;return b({i:d[9]})}))}]):b.resolve()}])},function(a){return b.nop(11,c(g()))}])},function(a){return b.resolve(e)}])};e.exports=f}),null);
__d("LSMediaSendResumeMediaSendJobStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["7b6293f3131ff1a8"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["1c"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["1a"]);j=function(){return a};return a}function a(){var b=babelHelpers.taggedTemplateLiteralLoose(["7d0"]);a=function(){return b};return b}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);l=function(){return a};return a}function m(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);m=function(){return a};return a}function n(){var a=babelHelpers.taggedTemplateLiteralLoose(["18"]);n=function(){return a};return a}function o(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);o=function(){return a};return a}function p(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);p=function(){return a};return a}function q(){var a=babelHelpers.taggedTemplateLiteralLoose(["14"]);q=function(){return a};return a}function r(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);r=function(){return a};return a}function s(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);s=function(){return a};return a}function t(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);t=function(){return a};return a}function u(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);u=function(){return a};return a}function v(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);v=function(){return a};return a}function w(){var a=babelHelpers.taggedTemplateLiteralLoose(["e"]);w=function(){return a};return a}function x(){var a=babelHelpers.taggedTemplateLiteralLoose(["1c"]);x=function(){return a};return a}function y(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);y=function(){return a};return a}function z(){var a=babelHelpers.taggedTemplateLiteralLoose(["1a"]);z=function(){return a};return a}function A(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);A=function(){return a};return a}function B(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);B=function(){return a};return a}function C(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);C=function(){return a};return a}function D(){var a=babelHelpers.taggedTemplateLiteralLoose(["1a"]);D=function(){return a};return a}function E(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);E=function(){return a};return a}function F(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);F=function(){return a};return a}function G(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);G=function(){return a};return a}function H(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);H=function(){return a};return a}function I(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);I=function(){return a};return a}function J(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);J=function(){return a};return a}function K(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);K=function(){return a};return a}function L(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);L=function(){return a};return a}function M(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);M=function(){return a};return a}function N(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);N=function(){return a};return a}function O(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);O=function(){return a};return a}function P(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);P=function(){return a};return a}function Q(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);Q=function(){return a};return a}function R(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);R=function(){return a};return a}function S(){var a=babelHelpers.taggedTemplateLiteralLoose(["18"]);S=function(){return a};return a}function T(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);T=function(){return a};return a}function U(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);U=function(){return a};return a}function V(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);V=function(){return a};return a}function W(){var a=babelHelpers.taggedTemplateLiteralLoose(["14"]);W=function(){return a};return a}function X(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);X=function(){return a};return a}function Y(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);Y=function(){return a};return a}function Z(){var a=babelHelpers.taggedTemplateLiteralLoose(["e2064853e5feedd2"]);Z=function(){return a};return a}function $(){var a=babelHelpers.taggedTemplateLiteralLoose(["4e2a"]);$=function(){return a};return a}function aa(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);aa=function(){return a};return a}function ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["4e28"]);ba=function(){return a};return a}function ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["4e26"]);ca=function(){return a};return a}function da(){var a=babelHelpers.taggedTemplateLiteralLoose(["4e24"]);da=function(){return a};return a}function ea(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ea=function(){return a};return a}function fa(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);fa=function(){return a};return a}function ga(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ga=function(){return a};return a}function ha(){var a=babelHelpers.taggedTemplateLiteralLoose(["e2064853e5feedd2"]);ha=function(){return a};return a}function ia(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);ia=function(){return a};return a}function ja(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);ja=function(){return a};return a}function ka(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ka=function(){return a};return a}function la(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);la=function(){return a};return a}function ma(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);ma=function(){return a};return a}function na(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);na=function(){return a};return a}function oa(){var a=babelHelpers.taggedTemplateLiteralLoose(["18"]);oa=function(){return a};return a}function pa(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);pa=function(){return a};return a}function qa(){var a=babelHelpers.taggedTemplateLiteralLoose(["14"]);qa=function(){return a};return a}function ra(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);ra=function(){return a};return a}function sa(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);sa=function(){return a};return a}function ta(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ta=function(){return a};return a}function ua(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);ua=function(){return a};return a}function va(){var a=babelHelpers.taggedTemplateLiteralLoose(["18"]);va=function(){return a};return a}function wa(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);wa=function(){return a};return a}function xa(){var a=babelHelpers.taggedTemplateLiteralLoose(["14"]);xa=function(){return a};return a}function ya(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);ya=function(){return a};return a}function za(){var a=babelHelpers.taggedTemplateLiteralLoose(["10"]);za=function(){return a};return a}function Aa(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);Aa=function(){return a};return a}function Ba(){var a=babelHelpers.taggedTemplateLiteralLoose(["e"]);Ba=function(){return a};return a}function Ca(){var a=babelHelpers.taggedTemplateLiteralLoose(["1c"]);Ca=function(){return a};return a}function Da(){var a=babelHelpers.taggedTemplateLiteralLoose(["1a"]);Da=function(){return a};return a}function Ea(){var a=babelHelpers.taggedTemplateLiteralLoose(["c"]);Ea=function(){return a};return a}function Fa(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);Fa=function(){return a};return a}function Ga(){var a=babelHelpers.taggedTemplateLiteralLoose(["1a"]);Ga=function(){return a};return a}function Ha(){var a=babelHelpers.taggedTemplateLiteralLoose(["8"]);Ha=function(){return a};return a}function Ia(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);Ia=function(){return a};return a}function Ja(){var a=babelHelpers.taggedTemplateLiteralLoose(["4"]);Ja=function(){return a};return a}function Ka(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);Ka=function(){return a};return a}function La(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);La=function(){return a};return a}function Ma(){var a=babelHelpers.taggedTemplateLiteralLoose(["3"]);Ma=function(){return a};return a}function Na(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);Na=function(){return a};return a}function Oa(){var a=babelHelpers.taggedTemplateLiteralLoose(["1"]);Oa=function(){return a};return a}function Pa(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);Pa=function(){return a};return a}function Qa(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);Qa=function(){return a};return a}function Ra(){var a=babelHelpers.taggedTemplateLiteralLoose(["16"]);Ra=function(){return a};return a}function Sa(){var a=babelHelpers.taggedTemplateLiteralLoose(["12"]);Sa=function(){return a};return a}function Ta(){var a=babelHelpers.taggedTemplateLiteralLoose(["e"]);Ta=function(){return a};return a}function Ua(){var a=babelHelpers.taggedTemplateLiteralLoose(["1a"]);Ua=function(){return a};return a}function Va(){var a=babelHelpers.taggedTemplateLiteralLoose(["a"]);Va=function(){return a};return a}function Wa(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);Wa=function(){return a};return a}function Xa(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);Xa=function(){return a};return a}function Ya(){var a=babelHelpers.taggedTemplateLiteralLoose(["5"]);Ya=function(){return a};return a}function Za(){var a=babelHelpers.taggedTemplateLiteralLoose(["7b6293f3131ff1a8"]);Za=function(){return a};return a}b=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(f){return b.seq([function(a){return b.nop(10,c(Za()))},function(f){return b.seq([function(c){return c=[new b.Map()],d[0]=c[0],c,c=[new b.Map()],d[1]=c[0],c,[d[1].set("main_job_succeeded",!1)],[d[1].set("resume_failed",!1)],[d[1].set("error",void 0)],[d[1].set("running_sub_job_states",d[0])],c=[new b.Map()],d[2]=c[0],c,[d[2].set("should_transcode",!1)],[d[2].set("use_double_phase",!1)],[d[2].set("send_by_server",!1)],[d[2].set("is_secure",!1)],[d[2].set("should_dedupe",!1)],b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).sortBy([["i","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?0:(b=a.item,[d[2].set("should_transcode",b.e)],[d[2].set("use_double_phase",b.f)],[d[2].set("send_by_server",b.g)],[d[2].set("is_secure",b.h)])})},function(e){return e=[new b.Map()],d[4]=e[0],e,b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).sortBy([["c","ASC"]]).forEach(function(a){a=a.item;return d[18]=a.a,d[16]=a.i,d[17]=a.l,a=[new b.Map()],d[12]=a[0],a,[d[12].set("boolean",!1)],b.i64.eq(d[16],c(Ya()))?[d[12].set("boolean",!0)]:b.i64.eq(d[16],c(Xa()))?[d[12].set("boolean",!0)]:b.i64.eq(d[16],c(Wa()))?[d[12].set("boolean",!0)]:b.i64.eq(d[16],c(Va()))?[d[12].set("boolean",!0)]:b.i64.eq(d[16],c(Ua()))?[d[12].set("boolean",!0)]:b.i64.eq(d[16],c(Ta()))?[d[12].set("boolean",!0)]:b.i64.eq(d[16],c(Sa()))?[d[12].set("boolean",!0)]:b.i64.eq(d[16],c(Ra()))?[d[12].set("boolean",!0)]:0,a=[d[12].get("boolean"),d[12]],d[14]=a[0],a,d[14]?b.resolve(b.i64.eq(d[16],c(Qa()))||b.i64.eq(d[16],c(Pa()))?0:[d[4].set(d[18],d[16])]):b.i64.neq(d[17],void 0)?b.resolve(([d[1].set("resume_failed",!0)],[d[1].set("error",d[17])])):b.seq([function(a){return a=[b.createArray()],d[20]=a[0],a,b.i64.eq(d[16],c(Oa()))?[(d[20].push(c(Na())),d[20])]:b.i64.eq(d[16],c(Ma()))?(a=[d[2].get("should_transcode"),d[2]],d[26]=a[0],a,[(d[20].push(d[26]?c(La()):c(Ka())),d[20])]):b.i64.eq(d[16],c(Ja()))?[(d[20].push(c(Ia())),d[20])]:b.i64.eq(d[16],c(Ha()))?(a=[d[2].get("send_by_server"),d[2]],d[28]=a[0],a,a=[d[2].get("use_double_phase"),d[2]],d[29]=a[0],a,[(d[20].push(d[28]?d[29]?c(Ga()):void 0:c(Fa())),d[20])]):b.i64.eq(d[16],c(Ea()))?(a=[d[2].get("use_double_phase"),d[2]],d[29]=a[0],a,[(d[20].push(d[29]?c(Da()):void 0),d[20])]):b.i64.eq(d[16],c(Ca()))?(a=[d[2].get("use_double_phase"),d[2]],d[30]=a[0],a,a=[d[2].get("should_transcode"),d[2]],d[31]=a[0],a,[(d[20].push(d[30]?d[31]?c(Ba()):c(Aa()):void 0),d[20])]):b.i64.eq(d[16],c(za()))?[(d[20].push(c(ya())),d[20])]:b.i64.eq(d[16],c(xa()))?(a=[d[2].get("send_by_server"),d[2]],d[32]=a[0],a,[(d[20].push(d[32]?void 0:c(wa())),d[20])]):b.i64.eq(d[16],c(va()))?[(d[20].push(void 0),d[20])]:0,a=[b.i64.of_int32(d[20].length)],d[22]=a[0],a,b.ntop("Array",3,d[20],c(ua())).then(function(a){return a=a,d[23]=a[0],a})},function(a){return d[24]=b.i64.eq(d[22],c(ta()))?void 0:d[23],b.i64.neq(d[24],void 0)?b.seq([function(a){return b.db.table(51).getArr().filter(function(a){return a.a===d[18]}).forEach(function(a){var b=a.update;a.item;return b({i:d[24]})})},function(a){return b.i64.eq(d[24],c(sa()))||b.i64.eq(d[24],c(ra()))?0:[d[4].set(d[18],d[24])]}]):b.resolve()}])})},function(c){return c=[new b.Map()],d[5]=c[0],c,[d[5].set("result_state",void 0)],b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).sortBy([["i","ASC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?0:(b=a.item,[d[5].set("result_state",b.i)])})},function(e){return e=[d[5].get("result_state"),d[5]],d[7]=e[0],e,b.i64.neq(d[7],void 0)?(e=[d[2].get("send_by_server"),d[2]],d[12]=e[0],e,e=[d[2].get("use_double_phase"),d[2]],d[13]=e[0],e,e=[d[2].get("use_double_phase"),d[2]],d[14]=e[0],e,(d[12]?d[13]?b.i64.eq(d[7],c(qa())):b.i64.eq(d[7],c(pa())):d[14]?b.i64.eq(d[7],c(oa())):b.i64.eq(d[7],c(na())))?b.resolve([d[1].set("main_job_succeeded",!0)]):b.i64.eq(d[7],c(ma()))?b.seq([function(e){return e=[new b.Map()],d[17]=e[0],e,[d[17].set("error",void 0)],b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).forEach(function(a){a=a.item;return d[22]=a.l,b.i64.eq(d[22],void 0)?(b.i64.neq(a.j,void 0)?(a=[void 0],d[24]=a[0],a):(a=[c(la())],d[24]=a[0],a),a=[d[24]],d[21]=a[0],a):(a=[d[22]],d[21]=a[0],a),b.i64.neq(d[21],void 0)?[d[17].set("error",d[21])]:0})},function(e){return e=[d[17].get("error"),d[17]],d[18]=e[0],e,b.i64.neq(d[18],void 0)?b.resolve(([d[1].set("resume_failed",!0)],[d[1].set("error",d[18])])):b.seq([function(e){return e=[d[2].get("is_secure"),d[2]],d[20]=e[0],e,d[20]?b.seq([function(e){return e=[b.createArray()],d[24]=e[0],e,e=[new b.Map()],d[25]=e[0],e,[d[25].set("count",c(ka()))],e=[new b.Map()],d[26]=e[0],e,[d[26].set("boolean",!1)],b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).sortBy([["c","ASC"]]).forEach(function(a){a=a.item;return d[35]=a.j,a=[d[25].get("count"),d[25]],d[34]=a[0],a,[d[25].set("count",b.i64.add(d[34],c(ja())))],b.i64.neq(d[35],void 0)?[(d[24].push(d[35]),d[24])]:0})},function(c){return c=[d[25].get("count"),d[25]],d[27]=c[0],c,c=[d[26].get("boolean"),d[26]],d[28]=c[0],c,c=[b.createArray()],d[29]=c[0],c,b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).sortBy([["c","ASC"]]).forEach(function(a){a=a.item;return d[34]=a.k,d[34]!==void 0?[(d[29].push(d[34]),d[29])]:0})},function(e){return e=[b.i64.of_int32(d[24].length)],d[30]=e[0],e,e=[b.i64.of_int32(d[29].length)],d[31]=e[0],e,b.i64.neq(d[30],d[27])||b.i64.neq(d[31],d[27])?b.resolve((e=[c(ia())],d[33]=e[0],e)):b.seq([function(c){return b.sp("224",a[0],d[24],d[29])},function(a){return a=[void 0],d[33]=a[0],a}])},function(a){return a=[d[33]],d[22]=a[0],a}]):b.seq([function(a){return b.nop(10,c(ha()))},function(e){return b.seq([function(e){return e=[b.createArray()],d[25]=e[0],e,e=[new b.Map()],d[26]=e[0],e,[d[26].set("count",c(ga()))],e=[new b.Map()],d[27]=e[0],e,[d[27].set("boolean",!1)],b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).sortBy([["c","ASC"]]).forEach(function(a){a=a.item;return d[34]=a.j,a=[d[26].get("count"),d[26]],d[33]=a[0],a,[d[26].set("count",b.i64.add(d[33],c(fa())))],b.i64.neq(d[34],void 0)?[(d[25].push(d[34]),d[25])]:0})},function(e){return e=[d[26].get("count"),d[26]],d[28]=e[0],e,e=[d[27].get("boolean"),d[27]],d[29]=e[0],e,e=[b.i64.of_int32(d[25].length)],d[30]=e[0],e,b.i64.neq(d[30],d[28])||b.i64.eq(d[28],c(ea()))?b.resolve((e=[c(da())],d[32]=e[0],e)):b.seq([function(c){return b.db.table(12).getArr([[[a[0]]],"optimistic"]).filter(function(b){return b.f===a[0]}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[void 0,void 0,void 0,void 0,void 0],d[33]=c[0],d[34]=c[1],d[35]=c[2],d[36]=c[3],d[37]=c[4],c):(b=a.item,c=[b.a,b.h,b.g,b.r,b.t],d[33]=c[0],d[34]=c[1],d[35]=c[2],d[36]=c[3],d[37]=c[4],c)})},function(e){return b.i64.eq(d[33],void 0)||b.i64.eq(d[34],void 0)?b.resolve((b.i64.eq(d[33],void 0)?(e=[c(ca())],d[42]=e[0],e):(e=[c(ba())],d[42]=e[0],e),e=[d[42]],d[40]=e[0],e)):b.seq([function(a){return b.db.table(9).getArr([[[d[33]]]]).filter(function(a){return b.i64.eq(a.a,d[33])}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[void 0],d[41]=c[0],c):(b=a.item,c=[b.c],d[41]=c[0],c)})},function(c){return b.db.table(31).getArr().filter(function(b){return b.c===a[0]}).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[void 0,void 0],d[43]=c[0],d[44]=c[1],c):(b=a.item,c=[b.g,b.h],d[43]=c[0],d[44]=c[1],c)})},function(e){return b.i64.neq(d[41],void 0)?b.seq([function(e){return b.seq([function(c){return b.sp("239",a[0]).then(function(a){return a=a,d[48]=a[0],d[49]=a[1],d[50]=a[2],a})},function(e){return b.i64.neq(d[48],void 0)?(e=[d[48]],d[52]=e[0],e):(e=[c(aa())],d[52]=e[0],e),b.sp("35",d[34],d[33],d[41],a[0],d[35],d[25],d[52],d[36],d[37],d[29],d[43],d[44])}])},function(a){return a=[void 0],d[47]=a[0],a}]):b.resolve((e=[c($())],d[47]=e[0],e))},function(a){return a=[d[47]],d[40]=a[0],a}])},function(a){return a=[d[40]],d[32]=a[0],a}])},function(a){return a=[d[32]],d[24]=a[0],a}])},function(a){return b.nop(11,c(Z()))},function(e){return b.i64.eq(d[24],void 0)?b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).forEach(function(a){var b=a.update;a.item;return b({i:c(Y())})}):b.resolve()},function(a){return a=[d[24]],d[22]=a[0],a}])},function(e){return b.i64.eq(d[22],void 0)?(e=[d[2].get("send_by_server"),d[2]],d[24]=e[0],e,e=[d[2].get("use_double_phase"),d[2]],d[25]=e[0],e,e=[d[2].get("use_double_phase"),d[2]],d[26]=e[0],e,(d[24]?d[25]?b.i64.eq(c(X()),c(W())):b.i64.eq(c(V()),c(U())):d[26]?b.i64.eq(c(T()),c(S())):b.i64.eq(c(R()),c(Q())))?b.resolve([d[1].set("main_job_succeeded",!0)]):b.seq([function(a){return a=[b.createArray()],d[28]=a[0],a,b.i64.eq(c(P()),c(O()))?[(d[28].push(c(N())),d[28])]:b.i64.eq(c(M()),c(L()))?(a=[d[2].get("should_transcode"),d[2]],d[34]=a[0],a,[(d[28].push(d[34]?c(K()):c(J())),d[28])]):b.i64.eq(c(I()),c(H()))?[(d[28].push(c(G())),d[28])]:b.i64.eq(c(F()),c(E()))?(a=[d[2].get("send_by_server"),d[2]],d[36]=a[0],a,a=[d[2].get("use_double_phase"),d[2]],d[37]=a[0],a,[(d[28].push(d[36]?d[37]?c(D()):void 0:c(C())),d[28])]):b.i64.eq(c(B()),c(A()))?(a=[d[2].get("use_double_phase"),d[2]],d[37]=a[0],a,[(d[28].push(d[37]?c(z()):void 0),d[28])]):b.i64.eq(c(y()),c(x()))?(a=[d[2].get("use_double_phase"),d[2]],d[38]=a[0],a,a=[d[2].get("should_transcode"),d[2]],d[39]=a[0],a,[(d[28].push(d[38]?d[39]?c(w()):c(v()):void 0),d[28])]):b.i64.eq(c(u()),c(t()))?[(d[28].push(c(s())),d[28])]:b.i64.eq(c(r()),c(q()))?(a=[d[2].get("send_by_server"),d[2]],d[40]=a[0],a,[(d[28].push(d[40]?void 0:c(p())),d[28])]):b.i64.eq(c(o()),c(n()))?[(d[28].push(void 0),d[28])]:0,a=[b.i64.of_int32(d[28].length)],d[30]=a[0],a,b.ntop("Array",3,d[28],c(m())).then(function(a){return a=a,d[31]=a[0],a})},function(e){return d[32]=b.i64.eq(d[30],c(l()))?void 0:d[31],b.i64.neq(d[32],void 0)?b.seq([function(c){return b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).forEach(function(a){var b=a.update;a.item;return b({i:d[32]})})},function(c){return b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).forEach(function(a){a=a.item;return[d[4].set(a.a,a.i)]})}]):b.resolve()}])):b.resolve(([d[1].set("resume_failed",!0)],[d[1].set("error",d[22])]))}])}]):b.i64.eq(d[7],c(k()))?b.seq([function(c){return c=[new b.Map()],d[18]=c[0],c,[d[18].set("error",void 0)],b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).forEach(function(a){a=a.item;return d[21]=a.l,b.i64.neq(d[21],void 0)?[d[18].set("error",d[21])]:0})},function(a){return a=[d[18].get("error"),d[18]],d[19]=a[0],a,b.i64.neq(d[19],void 0)?([d[1].set("resume_failed",!0)],[d[1].set("error",d[19])]):[d[1].set("main_job_succeeded",!0)]}]):b.i64.eq(d[7],c(j()))?b.seq([function(c){return b.sp("235",a[0],a[1]).then(function(a){return a=a,d[19]=a[0],a})},function(e){return b.i64.neq(d[19],void 0)?b.resolve(([d[1].set("resume_failed",!0)],[d[1].set("error",d[19])])):b.seq([function(d){return b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).forEach(function(a){var b=a.update;a.item;return b({i:c(i())})})},function(c){return[d[1].set("main_job_succeeded",!0)],b.db.table(51).getArr().filter(function(b){return b.b===a[0]}).forEach(function(a){a=a.item;return[d[4].set(a.a,a.i)]})}])}]):b.resolve(0)):b.resolve(([d[1].set("resume_failed",!0)],[d[1].set("error",c(h()))]))},function(a){return a=[d[1].get("main_job_succeeded"),d[1]],d[9]=a[0],a,a=[d[1].get("resume_failed"),d[1]],d[10]=a[0],a,a=[d[1].get("error"),d[1]],d[11]=a[0],a,a=[d[9],d[10],d[11],d[4]],e[0]=a[0],e[1]=a[1],e[2]=a[2],e[3]=a[3],a}])},function(a){return b.nop(11,c(g()))}])},function(a){return b.resolve(e)}])};e.exports=b}),null);
__d("LSTypingSendTypingIndicatorStoredProcedure",[],(function(a,b,c,d,e,f){function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["756a01c7531e7728"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["6"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["756a01c7531e7728"]);i=function(){return a};return a}a=function(){var a=arguments,b=a[a.length-1],c=b.n,d=[],e=[];return b.seq([function(e){return b.seq([function(a){return b.nop(10,c(i()))},function(e){return b.seq([function(c){return c=[b.createArray()],d[0]=c[0],c,[(d[0].push("typing"),d[0])],[(d[0].push(b.i64.to_string(a[0])),d[0])],c=[d[0].join("_")],d[1]=c[0],c,b.db.table(5).getArr().filter(function(a){return d[1]===a.b}).forEach(function(a){return a["delete"]()})},function(e){return e=[new b.Map()],d[2]=e[0],e,[d[2].set("thread_key",a[0])],[d[2].set("is_group_thread",a[1])],[d[2].set("is_typing",a[2])],e=[b.toJSON(d[2])],d[3]=e[0],e,b.sp("6",d[1],c(h()),d[3])}])},function(a){return b.nop(11,c(g()))}])},function(a){return b.resolve(e)}])};e.exports=a}),null);