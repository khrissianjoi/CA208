if (self.CavalryLogger) { CavalryLogger.start_js(["c+\/ld"]); }

__d("LSStorage",["IndexedDbKeyComparer","nullthrows","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";f.searchKey=g;f.areKeysEqual=a;f.createSubscriptionManager=c;function g(a,c,d,e){a=a.tableNames[c];c=a.indexes;a=a.primaryKeyIds;a=e==null?a:c[e].keyIds;return a.reduceRight(function(a,c){if(d[c]!==void 0&&a!==void 0)return{hd:d[c],tl:a};else if(e!=null)return void 0;throw b("unrecoverableViolation")("primary key must be defined on object","messenger_web_product")},0)}function a(a,b){while(a!==0&&b!==0){if(a.hd!==b.hd&&!(Array.isArray(a.hd)&&Array.isArray(b.hd)&&a.hd.length===b.hd.length&&a.hd.every(function(a,c){return a===b.hd[c]})))return!1;a=a.tl;b=b.tl}return a===0&&b===0}function h(a,c){return c==null?!0:(c.gt!==void 0?b("IndexedDbKeyComparer")(a,c.gt)>0:c.gte!==void 0?b("IndexedDbKeyComparer")(a,c.gte)>=0:!0)&&(c.lt!==void 0?b("IndexedDbKeyComparer")(a,c.lt)<0:c.lte!==void 0?b("IndexedDbKeyComparer")(a,c.lte)<=0:!0)}function c(a){var c=new Map(),d=new Map();function e(a,b,c,d){return Promise.all(Array.from(a.entries()).map(function(e){var f=e[0];e=e[1];if(a.has(f)&&h(c,e))return f(c,d,b)}))}function f(a){return b("nullthrows")((c.has(a)?c:c.set(a,[new Map(),new Map()])).get(a))}function i(a,c){a=f(a);a[0];a=a[1];return b("nullthrows")((a.has(c)?a:a.set(c,new Map())).get(c))}function j(c,d,f,h,i,j){var k=e.bind(null,c,j);c=f==null?void 0:g(a,d,f,i);var l=h==null?void 0:g(a,d,h,i);if(l==null&&c!=null)return k(c,{operation:"delete"});if(c==null&&l!=null)return k(l,{operation:"add",value:b("nullthrows")(h)});return c!=null&&l!=null?b("IndexedDbKeyComparer")(c,l)===0?k(c,{operation:"put",value:b("nullthrows")(h)}):k(c,{operation:"delete"}).then(function(){return k(l,{operation:"add",value:b("nullthrows")(h)})}):Promise.resolve()}return{subscribeTable:function(a,b,c){a=f(a);var d=a[0];d.set(b,c);return function(){d["delete"](b)}},subscribeIndex:function(a,b,c,d){var e=i(a,b);e.set(c,d);return function(){e["delete"](c)}},notifyTableAndIndexSubscribers:function(a,b,c,d){var e=f(a),g=e[0],h=e[1];return j(g,a,b,c,null,d).then(function(){return Promise.all(Array.from(h.entries()).map(function(e){var f=e[0];e=e[1];return j(e,a,b,c,f,d)}).filter(function(a){return a!=null}))})},subscribeToCommit:function(a){d.set(a,a);return function(){d["delete"](a)}},notifyCommit:function(){d.forEach(function(a){return a()})},dispose:function(){c.clear(),d.clear()}}}}),null);
__d("nativePromiseRegeneratorRuntime",[],(function(a,b,c,d,e,f){"use strict";var g=Object.prototype.hasOwnProperty;b=typeof Symbol==="function"?Symbol:{};var h=b.iterator||"@@iterator";c=b.asyncIterator||"@@asyncIterator";var i=e.exports;function j(a,b,c,d){b=Object.create((b||q).prototype);d=new A(d||[]);b._invoke=w(a,c,d);return b}i.wrap=j;function k(a,b,c){try{return{type:"normal",arg:a.call(b,c)}}catch(a){return{type:"throw",arg:a}}}var l="suspendedStart",m="suspendedYield",n="executing",o="completed",p={};function q(){}function r(){}function s(){}var t=s.prototype=q.prototype;r.prototype=t.constructor=s;s.constructor=r;r.displayName="GeneratorFunction";function a(a){["next","throw","return"].forEach(function(b){a[b]=function(a){return this._invoke(b,a)}})}v.prototype[c]=function(){return this};i.isGeneratorFunction=function(a){a=typeof a==="function"&&a.constructor;return a?a===r||(a.displayName||a.name)==="GeneratorFunction":!1};i.mark=function(a){Object.setPrototypeOf?Object.setPrototypeOf(a,s):Object.assign(a,s);a.prototype=Object.create(t);return a};i.awrap=function(a){return new u(a)};function u(a){this.arg=a}function v(a){function b(b,e){var f=a[b](e);b=f.value;return b instanceof u?window.Promise.resolve(b.arg).then(c,d):window.Promise.resolve(b).then(function(a){f.value=a;return f})}typeof process==="object"&&process.domain&&(b=process.domain.bind(b));var c=b.bind(a,"next"),d=b.bind(a,"throw");b.bind(a,"return");var e;function f(a,c){var d=e?e.then(function(){return b(a,c)}):new window.Promise(function(d){d(b(a,c))});e=d["catch"](function(a){});return d}this._invoke=f}a(v.prototype);i.async=function(a,b,c,d){var e=new v(j(a,b,c,d));return i.isGeneratorFunction(b)?e:e.next().then(function(a){return a.done?a.value:e.next()})};function w(a,b,c){var d=l;return function(e,f){if(d===n)throw new Error("Generator is already running");if(d===o){if(e==="throw")throw f;return C()}while(!0){var g=c.delegate;if(g){if(e==="return"||e==="throw"&&g.iterator[e]===void 0){c.delegate=null;var h=g.iterator["return"];if(h){h=k(h,g.iterator,f);if(h.type==="throw"){e="throw";f=h.arg;continue}}if(e==="return")continue}h=k(g.iterator[e],g.iterator,f);if(h.type==="throw"){c.delegate=null;e="throw";f=h.arg;continue}e="next";f=void 0;var i=h.arg;if(i.done)c[g.resultName]=i.value,c.next=g.nextLoc;else{d=m;return i}c.delegate=null}if(e==="next")d===m?c.sent=f:c.sent=void 0;else if(e==="throw"){if(d===l){d=o;throw f}c.dispatchException(f)&&(e="next",f=void 0)}else e==="return"&&c.abrupt("return",f);d=n;h=k(a,b,c);if(h.type==="normal"){d=c.done?o:m;var i={value:h.arg,done:c.done};if(h.arg===p)c.delegate&&e==="next"&&(f=void 0);else return i}else h.type==="throw"&&(d=o,e="throw",f=h.arg)}}}a(t);var x=!1;i.defineGeneratorMethods=function(){if(x)return;x=!0;t[h]=function(){return this};t.toString=function(){return"[object Generator]"}};i.defineGeneratorMethods();function y(a){var b={tryLoc:a[0]};1 in a&&(b.catchLoc=a[1]);2 in a&&(b.finallyLoc=a[2],b.afterLoc=a[3]);this.tryEntries.push(b)}function z(a){var b=a.completion||{};b.type="normal";delete b.arg;a.completion=b}function A(a){this.tryEntries=[{tryLoc:"root"}],a.forEach(y,this),this.reset(!0)}i.keys=function(a){var b=[];for(var c in a)b.push(c);b.reverse();return function c(){while(b.length){var d=b.pop();if(d in a){c.value=d;c.done=!1;return c}}c.done=!0;return c}};function B(a){if(a){var b=a[h];if(b)return b.call(a);if(typeof a.next==="function")return a;if(!isNaN(a.length)){var c=-1;b=function b(){while(++c<a.length)if(g.call(a,c)){b.value=a[c];b.done=!1;return b}b.value=void 0;b.done=!0;return b};return b.next=b}}return{next:C}}i.values=B;function C(){return{value:void 0,done:!0}}A.prototype={constructor:A,reset:function(a){this.prev=0;this.next=0;this.sent=void 0;this.done=!1;this.delegate=null;this.tryEntries.forEach(z);if(!a)for(var b in this)b.charAt(0)==="t"&&g.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=void 0)},stop:function(){this.done=!0;var a=this.tryEntries[0];a=a.completion;if(a.type==="throw")throw a.arg;return this.rval},dispatchException:function(a){if(this.done)throw a;var b=this;function c(c,d){f.type="throw";f.arg=a;b.next=c;return!!d}for(var d=this.tryEntries.length-1;d>=0;--d){var e=this.tryEntries[d],f=e.completion;if(e.tryLoc==="root")return c("end");if(e.tryLoc<=this.prev){var h=g.call(e,"catchLoc"),i=g.call(e,"finallyLoc");if(h&&i){if(this.prev<e.catchLoc)return c(e.catchLoc,!0);else if(this.prev<e.finallyLoc)return c(e.finallyLoc)}else if(h){if(this.prev<e.catchLoc)return c(e.catchLoc,!0)}else if(i){if(this.prev<e.finallyLoc)return c(e.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(a,b){for(var c=this.tryEntries.length-1;c>=0;--c){var d=this.tryEntries[c];if(d.tryLoc<=this.prev&&g.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var e=d;break}}e&&(a==="break"||a==="continue")&&e.tryLoc<=b&&b<=e.finallyLoc&&(e=null);d=e?e.completion:{};d.type=a;d.arg=b;e?this.next=e.finallyLoc:this.complete(d);return p},complete:function(a,b){if(a.type==="throw")throw a.arg;a.type==="break"||a.type==="continue"?this.next=a.arg:a.type==="return"?(this.rval=a.arg,this.next="end"):a.type==="normal"&&b&&(this.next=b)},finish:function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.finallyLoc===a){this.complete(c.completion,c.afterLoc);z(c);return p}}},"catch":function(a){for(var b=this.tryEntries.length-1;b>=0;--b){var c=this.tryEntries[b];if(c.tryLoc===a){var d=c.completion;if(d.type==="throw"){var e=d.arg;z(c)}return e}}throw new Error("illegal catch attempt")},delegateYield:function(a,b,c){this.delegate={iterator:B(a),resultName:b,nextLoc:c};return p}}}),null);
__d("BPlusTreeBase",["nativePromiseRegeneratorRuntime","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=(c=b("nativePromiseRegeneratorRuntime")).mark(q),h=c.mark(u),i=c.mark(v),j=c.mark(w),k=c.mark(x),l=c.mark(y),m=c.mark(z),n=c.mark(A),o=function(){return{children:[],isLeaf:!0,keys:[]}},p={gte:[!0,0],lt:[!0,1],gt:[!1,0],lte:[!1,1]};function q(a,c,d,e){var f,h,i,j,k;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:return b.delegateYield(c.readExn(d),"t0",1);case 1:f=b.t0,h=[],(i=f,j=d),k=-1;case 5:if(i.isLeaf){b.next=14;break}h.push([i,j,k]);k=r(a,i.keys,e,p.gt);k===-1&&(k=i.keys.length);j=i.children[k];return b.delegateYield(c.readExn(j),"t1",11);case 11:i=b.t1;b.next=5;break;case 14:return b.abrupt("return",[i,j,h,k]);case 15:case"end":return b.stop()}},g,this)}function r(a,b,c,d){var e=0,f=b.length-1;while(e<=f){var g=e+f>>1;(d[0]?a(b[g],c)<0:a(b[g],c)<=0)?e=g+1:f=g-1}g=[e,f][d[1]];return g===b.length?-1:g}function s(a,b,c){if(!b.length)return[0,0];var d=r(a,b,c,p.gte);if(d===-1)return[b.length,0];else if(a(b[d],c)===0)return[d,1];return[d,0]}function t(a,b,c){for(var d=arguments.length,e=new Array(d>3?d-3:0),f=3;f<d;f++)e[f-3]=arguments[f];return[].concat(a.slice(0,b),e,a.slice(b+c))}function u(a){var c,d;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:return b.delegateYield(a.readHeader(),"t0",1);case 1:c=b.t0;if(!(c==null)){b.next=7;break}return b.delegateYield(a.writeNew({isLeaf:!0,children:[],keys:[]}),"t1",4);case 4:d=b.t1;c={rootId:d,tailId:d,headId:d};return b.delegateYield(a.writeHeader(c),"t2",7);case 7:return b.abrupt("return",c);case 8:case"end":return b.stop()}},h,this)}function v(a,c,d){var e,f,g;return b("nativePromiseRegeneratorRuntime").wrap(function(h){while(1)switch(h.prev=h.next){case 0:h.t0=q;h.t1=a;h.t2=c;return h.delegateYield(u(c),"t3",4);case 4:h.t4=h.t3.rootId;h.t5=d;return h.delegateYield(h.t0(h.t1,h.t2,h.t4,h.t5),"t6",7);case 7:e=h.t6;f=e[0];g=r(a,f.keys,d,p.gte);if(!(g===-1||a(f.keys[g],d)!==0)){h.next=12;break}throw b("unrecoverableViolation")("key not found: "+String(d),"messenger_web_product");case 12:return h.abrupt("return",f.children[g]);case 13:case"end":return h.stop()}},i,this)}function w(a,c,d,e){var f,g,h;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:b.t0=q;b.t1=a;b.t2=c;return b.delegateYield(u(c),"t3",4);case 4:b.t4=b.t3.rootId;b.t5=d;return b.delegateYield(b.t0(b.t1,b.t2,b.t4,b.t5),"t6",7);case 7:f=b.t6;g=f[0];h=r(a,g.keys,d,p.gte);if(!(h===-1||a(g.keys[h],d)!==0)){b.next=12;break}return b.abrupt("return",e);case 12:return b.abrupt("return",g.children[h]);case 13:case"end":return b.stop()}},j,this)}function x(a,c,d){var e,f,g;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:b.t0=q;b.t1=a;b.t2=c;return b.delegateYield(u(c),"t3",4);case 4:b.t4=b.t3.rootId;b.t5=d;return b.delegateYield(b.t0(b.t1,b.t2,b.t4,b.t5),"t6",7);case 7:e=b.t6;f=e[0];g=r(a,f.keys,d,p.gte);return b.abrupt("return",g!==-1&&a(f.keys[g],d)===0);case 11:case"end":return b.stop()}},k,this)}function y(a,c,d,e,f){var g,h,i,j,k,m,n,o,p,r,v,w,x,y,z,A,B,C,D;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:return b.delegateYield(u(c),"t0",1);case 1:g=b.t0;h={};return b.delegateYield(q(a,c,g.rootId,e),"t1",4);case 4:i=b.t1,j=i[0],k=i[1],m=i[2],(n=s(a,j.keys,e),o=n[0],p=n[1]),(r=babelHelpers["extends"]({},j,{children:t(j.children,o,p,f),keys:p===1?j.keys:t(j.keys,o,p,e)}),v=k);case 10:if(!(r.keys.length>=d)){b.next=44;break}y=m.pop()||[{keys:[],children:[v],isLeaf:!1}];w=y[0];x=y[1];z=Math.floor(r.keys.length/2);A=void 0,B=void 0;if(!r.isLeaf){b.next=35;break}A={isLeaf:!0,children:r.children.slice(z),keys:r.keys.slice(z),nextId:r.nextId,prevId:v};return b.delegateYield(c.writeNew(A),"t2",19);case 19:B=r.nextId=b.t2;if(!A.nextId){b.next=32;break}b.t3=c;b.t4=A.nextId;b.t5=babelHelpers;b.t6={};return b.delegateYield(c.readExn(A.nextId),"t7",26);case 26:b.t8=b.t7;b.t9={prevId:B};b.t10=b.t5["extends"].call(b.t5,b.t6,b.t8,b.t9);return b.delegateYield(b.t3.write.call(b.t3,b.t4,b.t10),"t11",30);case 30:b.next=33;break;case 32:h.tailId=B;case 33:b.next=38;break;case 35:A={isLeaf:!1,children:r.children.slice(z+1),keys:r.keys.slice(z+1)};return b.delegateYield(c.writeNew(A),"t12",37);case 37:B=b.t12;case 38:C=s(a,w.keys,r.keys[z]),D=C[0];w=babelHelpers["extends"]({},w,{keys:t(w.keys,D,0,r.keys[z]),children:t(w.children,D+1,0,B)});return b.delegateYield(c.write(v,babelHelpers["extends"]({},r,{keys:r.keys.slice(0,z),children:r.children.slice(0,z+(r.isLeaf?0:1))})),"t13",41);case 41:r=w,v=x;b.next=10;break;case 44:if(!(v==null)){b.next=49;break}return b.delegateYield(c.writeNew(r),"t14",46);case 46:h.rootId=b.t14;b.next=50;break;case 49:return b.delegateYield(c.write(v,r),"t15",50);case 50:if(!Object.keys(h).length){b.next=52;break}return b.delegateYield(c.writeHeader(babelHelpers["extends"]({},g,h)),"t16",52);case 52:case"end":return b.stop()}},l,this)}function z(a,c,d,e){var f,g,h,i,j,k,l,n,o,s,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T;return b("nativePromiseRegeneratorRuntime").wrap(function(m){while(1)switch(m.prev=m.next){case 0:return m.delegateYield(u(c),"t0",1);case 1:f=m.t0;g={};h=Math.floor(d/2);return m.delegateYield(q(a,c,f.rootId,e),"t1",5);case 5:i=m.t1;j=i[0];k=i[1];l=i[2];n=i[3];o=r(a,j.keys,e,p.gte);if(!(o===-1||a(j.keys[o],e)!==0)){m.next=13;break}return m.abrupt("return",!1);case 13:s=babelHelpers["extends"]({},j,{keys:t(j.keys,o,1),children:t(j.children,o,1)}),v=k,w=n;case 16:if(!(s.keys.length<h&&l.length)){m.next=101;break}B=l.pop();x=B[0];y=B[1];z=B[2];C=[[{nodeId:x.children[w-1]},{nodeId:v,node:s},w-1],[{nodeId:v,node:s},{nodeId:x.children[w+1]},w]].filter(function(a){var b=a[0];a=a[1];return b.nodeId!==void 0&&a.nodeId!==void 0});D=C,E=Array.isArray(D),F=0,D=E?D:D[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 23:if(!E){m.next=29;break}if(!(F>=D.length)){m.next=26;break}return m.abrupt("break",57);case 26:G=D[F++];m.next=33;break;case 29:F=D.next();if(!F.done){m.next=32;break}return m.abrupt("break",57);case 32:G=F.value;case 33:H=G;I=H[0];J=H[1];K=H[2];m.t2=I.node;if(m.t2){m.next=41;break}return m.delegateYield(c.readExn(I.nodeId),"t3",40);case 40:m.t2=m.t3;case 41:I.node=m.t2;m.t4=J.node;if(m.t4){m.next=46;break}return m.delegateYield(c.readExn(J.nodeId),"t5",45);case 45:m.t4=m.t5;case 46:J.node=m.t4;if(!(I.node.keys.length+J.node.keys.length>=h*2)){m.next=55;break}s.isLeaf?(J.node=babelHelpers["extends"]({},J.node,{children:[].concat(I.node.children,J.node.children),keys:[].concat(I.node.keys,J.node.keys)}),I.node=babelHelpers["extends"]({},I.node,{children:J.node.children.splice(0,h),keys:J.node.keys.splice(0,h)}),x=babelHelpers["extends"]({},x,{keys:t(x.keys,K,1,J.node.keys[0])})):(J.node=babelHelpers["extends"]({},J.node,{children:[].concat(I.node.children,J.node.children),keys:[].concat(I.node.keys,[x.keys[K]],J.node.keys)}),I.node=babelHelpers["extends"]({},I.node,{children:J.node.children.splice(0,h+1)}),x=babelHelpers["extends"]({},x,{keys:t(x.keys,K,1,J.node.keys.splice(h,1)[0])}),I.node.keys=J.node.keys.splice(0,h));return m.delegateYield(c.write(I.nodeId,I.node),"t6",50);case 50:return m.delegateYield(c.write(J.nodeId,J.node),"t7",51);case 51:return m.delegateYield(c.write(y,x),"t8",52);case 52:if(!Object.keys(g).length){m.next=54;break}return m.delegateYield(c.writeHeader(babelHelpers["extends"]({},f,g)),"t9",54);case 54:return m.abrupt("return",!0);case 55:m.next=23;break;case 57:L=C,M=Array.isArray(L),N=0,L=M?L:L[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 58:if(!M){m.next=64;break}if(!(N>=L.length)){m.next=61;break}return m.abrupt("break",98);case 61:O=L[N++];m.next=68;break;case 64:N=L.next();if(!N.done){m.next=67;break}return m.abrupt("break",98);case 67:O=N.value;case 68:P=O;Q=P[0];R=P[1];S=P[2];Q.node=babelHelpers["extends"]({},Q.node,{children:[].concat(Q.node.children,R.node.children)});if(!s.isLeaf){m.next=91;break}Q.node.keys=[].concat(Q.node.keys,R.node.keys);if(!R.node.nextId){m.next=87;break}m.t10=c;m.t11=R.node.nextId;m.t12=babelHelpers;m.t13={};return m.delegateYield(c.readExn(R.node.nextId),"t14",81);case 81:m.t15=m.t14;m.t16={prevId:Q.nodeId};m.t17=m.t12["extends"].call(m.t12,m.t13,m.t15,m.t16);return m.delegateYield(m.t10.write.call(m.t10,m.t11,m.t17),"t18",85);case 85:m.next=88;break;case 87:g.tailId=Q.nodeId;case 88:Q.node.nextId=R.node.nextId;m.next=92;break;case 91:Q.node.keys=[].concat(Q.node.keys,[x.keys[S]],R.node.keys);case 92:x=babelHelpers["extends"]({},x,{keys:t(x.keys,S,1),children:t(x.children,S+1,1)});return m.delegateYield(c.write(Q.nodeId,Q.node),"t19",94);case 94:return m.delegateYield(c.remove(R.nodeId),"t20",95);case 95:return m.abrupt("break",98);case 96:m.next=58;break;case 98:A=[x,y,z],s=A[0],v=A[1],w=A[2],A;m.next=16;break;case 101:return m.delegateYield(c.write(v,s),"t21",102);case 102:return m.delegateYield(c.readExn(f.rootId),"t22",103);case 103:T=m.t22;if(!(!T.keys.length&&T.children.length)){m.next=109;break}if(!T.isLeaf){m.next=107;break}throw b("unrecoverableViolation")("cannot be leaf","messenger_web_product");case 107:return m.delegateYield(c.remove(f.rootId),"t23",108);case 108:g.rootId=T.children[0];case 109:if(!Object.keys(g).length){m.next=111;break}return m.delegateYield(c.writeHeader(babelHelpers["extends"]({},f,g)),"t24",111);case 111:return m.abrupt("return",!0);case 112:case"end":return m.stop()}},m,this)}function A(a,c,d){var e,f,g,h,i,j,k,l,m,s,t,v,w,x,y,z,A,B,C,D,E,F,G,H,I;return b("nativePromiseRegeneratorRuntime").wrap(function(n){while(1)switch(n.prev=n.next){case 0:e=d===void 0?{}:d,f=e.dir,g=f===void 0?"asc":f,h=babelHelpers.objectWithoutPropertiesLoose(e,["dir"]);if(!(Object.prototype.hasOwnProperty.call(h,"gt")&&Object.prototype.hasOwnProperty.call(h,"gte"))){n.next=3;break}throw b("unrecoverableViolation")("cannot specify both greater than and greater than or equal","messenger_web_product");case 3:if(!(Object.prototype.hasOwnProperty.call(h,"lt")&&Object.prototype.hasOwnProperty.call(h,"lte"))){n.next=5;break}throw b("unrecoverableViolation")("cannot specify both less than and less than or equal","messenger_web_product");case 5:return n.delegateYield(u(c),"t0",6);case 6:k=n.t0;if(!(g==="asc")){n.next=89;break}if(!Object.prototype.hasOwnProperty.call(h,"gt")){n.next=15;break}return n.delegateYield(q(a,c,k.rootId,h.gt),"t1",10);case 10:l=n.t1;i=l[0];j=l[1];n.next=28;break;case 15:if(!Object.prototype.hasOwnProperty.call(h,"gte")){n.next=22;break}return n.delegateYield(q(a,c,k.rootId,h.gte),"t2",17);case 17:m=n.t2;i=m[0];j=m[1];n.next=28;break;case 22:return n.delegateYield(c.readExn(k.headId),"t3",23);case 23:n.t4=n.t3,n.t5=k.headId,s=[n.t4,n.t5],i=s[0],j=s[1];case 28:t=Object.prototype.hasOwnProperty.call(h,"gt")?r(a,i.keys,h.gt,p.gt):Object.prototype.hasOwnProperty.call(h,"gte")?r(a,i.keys,h.gte,p.gte):0;case 29:if(!(i&&j!==void 0)){n.next=87;break}case 30:if(!(t!==-1&&t<i.keys.length)){n.next=78;break}v=i.keys[t];if(!(Object.prototype.hasOwnProperty.call(h,"lt")&&a(v,h.lt)>=0||Object.prototype.hasOwnProperty.call(h,"lte")&&a(v,h.lte)>0)){n.next=34;break}return n.abrupt("return");case 34:n.next=36;return[i.keys[t],i.children[t]];case 36:w=n.sent;return n.delegateYield(c.read(j),"t7",38);case 38:n.t6=n.t7;if(n.t6){n.next=41;break}n.t6=o();case 41:i=n.t6;if(!(w!=null)){n.next=60;break}if(!(a(w,v)<=0)){n.next=45;break}throw b("unrecoverableViolation")("key must be greater than current key","messenger_web_product");case 45:t=r(a,i.keys,w,p.gte);if(!(t===-1)){n.next=58;break}n.t8=q;n.t9=a;n.t10=c;return n.delegateYield(u(c),"t11",51);case 51:n.t12=(k=n.t11).rootId;n.t13=w;return n.delegateYield(n.t8(n.t9,n.t10,n.t12,n.t13),"t14",54);case 54:x=n.t14,i=x[0],j=x[1],t=r(a,i.keys,w,p.gte);case 58:n.next=76;break;case 60:y=t>=i.keys.length||a(i.keys[t],v)!==0;if(!y){n.next=75;break}t=r(a,i.keys,v,p.lte);if(!(t===-1)){n.next=75;break}n.t15=q;n.t16=a;n.t17=c;return n.delegateYield(u(c),"t18",68);case 68:n.t19=(k=n.t18).rootId;n.t20=v;return n.delegateYield(n.t15(n.t16,n.t17,n.t19,n.t20),"t21",71);case 71:z=n.t21,i=z[0],j=z[1],t=r(a,i.keys,v,p.lte);case 75:t++;case 76:n.next=30;break;case 78:j=i.nextId;n.t22=j!==void 0;if(!n.t22){n.next=83;break}return n.delegateYield(c.readExn(j),"t23",82);case 82:n.t22=n.t23;case 83:i=n.t22;t=0;n.next=29;break;case 87:n.next=168;break;case 89:if(!Object.prototype.hasOwnProperty.call(h,"lt")){n.next=96;break}return n.delegateYield(q(a,c,k.rootId,h.lt),"t24",91);case 91:A=n.t24;i=A[0];j=A[1];n.next=109;break;case 96:if(!Object.prototype.hasOwnProperty.call(h,"lte")){n.next=103;break}return n.delegateYield(q(a,c,k.rootId,h.lte),"t25",98);case 98:B=n.t25;i=B[0];j=B[1];n.next=109;break;case 103:return n.delegateYield(c.readExn(k.tailId),"t26",104);case 104:n.t27=n.t26,n.t28=k.tailId,C=[n.t27,n.t28],i=C[0],j=C[1];case 109:D=Object.prototype.hasOwnProperty.call(h,"lt")?r(a,i.keys,h.lt,p.lt):Object.prototype.hasOwnProperty.call(h,"lte")?r(a,i.keys,h.lte,p.lte):i.keys.length-1;case 110:if(!(i&&j!==void 0)){n.next=168;break}case 111:if(!(D!==-1&&D>=0)){n.next=159;break}E=i.keys[D];if(!(Object.prototype.hasOwnProperty.call(h,"gt")&&a(E,h.gt)<=0||Object.prototype.hasOwnProperty.call(h,"gte")&&a(E,h.gte)<0)){n.next=115;break}return n.abrupt("return");case 115:n.next=117;return[i.keys[D],i.children[D]];case 117:F=n.sent;return n.delegateYield(c.read(j),"t30",119);case 119:n.t29=n.t30;if(n.t29){n.next=122;break}n.t29=o();case 122:i=n.t29;if(!(F!=null)){n.next=141;break}if(!(a(F,E)>=0)){n.next=126;break}throw b("unrecoverableViolation")("key must be less than current key","messenger_web_product");case 126:D=r(a,i.keys,F,p.lte);if(!(D===-1)){n.next=139;break}n.t31=q;n.t32=a;n.t33=c;return n.delegateYield(u(c),"t34",132);case 132:n.t35=(k=n.t34).rootId;n.t36=F;return n.delegateYield(n.t31(n.t32,n.t33,n.t35,n.t36),"t37",135);case 135:G=n.t37,i=G[0],j=G[1],D=r(a,i.keys,F,p.lte);case 139:n.next=157;break;case 141:H=D>=i.keys.length||a(i.keys[D],E)!==0;if(!H){n.next=156;break}D=r(a,i.keys,E,p.gte);if(!(D===-1)){n.next=156;break}n.t38=q;n.t39=a;n.t40=c;return n.delegateYield(u(c),"t41",149);case 149:n.t42=(k=n.t41).rootId;n.t43=E;return n.delegateYield(n.t38(n.t39,n.t40,n.t42,n.t43),"t44",152);case 152:I=n.t44,i=I[0],j=I[1],D=r(a,i.keys,E,p.gte);case 156:D--;case 157:n.next=111;break;case 159:j=i.prevId;n.t45=j!==void 0;if(!n.t45){n.next=164;break}return n.delegateYield(c.readExn(j),"t46",163);case 163:n.t45=n.t46;case 164:i=n.t45;D=i?i.keys.length-1:-1;n.next=110;break;case 168:case"end":return n.stop()}},n,this)}function a(a,b,c){b===void 0&&(b=32);return{get:function(b){return v(a,c,b)},getWithDefault:function(b,d){return w(a,c,b,d)},has:function(b){return x(a,c,b)},set:function(d,e){return y(a,c,b,d,e)},"delete":function(d){return z(a,c,b,d)},entries:function(b){return A(a,c,b)}}}}),null);
__d("PromiseOrValue.bs",["bs_curry","promiseDone"],(function(a,b,c,d,e,f){"use strict";function a(a,c){if(a.TAG)return{TAG:1,_0:b("bs_curry")._1(c,a._0)};else return{TAG:0,_0:a._0.then(b("bs_curry").__1(c))}}function c(a,c){if(a.TAG)return b("bs_curry")._1(c,a._0);b("promiseDone")(a._0,c,void 0)}function d(a){if(a.TAG)return a._0;else return{TAG:0,_0:a._0.then(function(a){return a._0})}}function e(a,b){if(a.TAG){var c=a._0;if(b.TAG)return{TAG:1,_0:[c,b._0]};else return{TAG:0,_0:b._0.then(function(a){return[c,a]})}}a=a._0;if(!b.TAG)return{TAG:0,_0:window.Promise.all([a,b._0])};var d=b._0;return{TAG:0,_0:a.then(function(a){return[a,d]})}}function g(a){if(a.TAG)return window.Promise.resolve(a._0);else return a._0}function h(a){return{TAG:1,_0:a}}function i(a){return{TAG:0,_0:a}}function j(a,c){while(!0){var d=c;d=b("bs_curry")._1(a,d);if(!d.TAG)return{TAG:0,_0:d._0.then(function(b){b=b.TAG?j(a,b._0):{TAG:1,_0:b._0};return b._0})};d=d._0;if(!d.TAG)return{TAG:1,_0:d._0};c=d._0;continue}}f.map=a;f.mapDone=c;f.flatten=d;f.all2=e;f.toPromise=g;f.fromValue=h;f.fromPromise=i;f.loop=j}),null);
__d("SortedAsyncIterable.bs",["bs_curry","bs_js_dict","bs_caml_obj","bs_pervasives","PromiseOrValue.bs"],(function(a,b,c,d,e,f){"use strict";var g={};function h(a,b){if(a)return{hd:a.hd,tl:h(a.tl,b)};else return b}function a(a,c){while(!0){var d=c,e=a;if(!d)return e;if(!e)return b("bs_pervasives").failwith("unexpected end of key");if(!b("bs_caml_obj").caml_equal(e.hd,d.hd))throw{RE_EXN_ID:"Assert_failure",_1:["SortedAsyncIterable.re",41,8],Error:new Error()};c=d.tl;a=e.tl;continue}}a={concat:h,strip:a};function c(a,c){return b("bs_curry")._2(a.subscribe,void 0,function(a,d,e){b("bs_curry")._2(c,a,d)})}var i={contents:void 0};function d(a){return b("bs_curry")._2(a.iterator,void 0,new WeakMap())}function j(c,d,a){a=b("bs_js_dict").fromArray([["direction",a]]);a.iterator=c;a.subscribe=d;return a}function e(a){return j(function(a,c){return{next:function(a){return b("PromiseOrValue.bs").fromValue({done:!0,value:void 0})}}},function(a,b){return function(a){}},"asc")}function k(a){return a.direction}f.Bounds=g;f.Key=a;f.iterator=d;f.subscribe=c;f.direction=k;f.context=i;f.make=j;f.empty=e}),null);
__d("SkytaleDB.bs",["bs_curry","bs_js_dict","bs_pervasives","SortedAsyncIterable.bs"],(function(a,b,c,d,e,f){"use strict";function g(a){return b("SortedAsyncIterable.bs").Key.concat(a,{hd:[[]],tl:0})}function a(a){var c=function(a){var b=a.NAME;if(b==="lessThan")return["lt",a.VAL];else if(b==="greaterThan")return["gt",g(a.VAL)];else if(b==="greaterThanOrEqual")return["gte",a.VAL];else return["lte",g(a.VAL)]},d=a.NAME;if(d!=="range")if(d==="greaterThanOrEqual"||d==="greaterThan")return b("bs_js_dict").fromArray([c(a)]);else return b("bs_js_dict").fromArray([c(a)]);d=a.VAL;return b("bs_js_dict").fromArray([c(d[0]),c(d[1])])}function c(a){var c=a.operation;switch(c){case"add":return{TAG:0,_0:a.value};case"delete":return 0;case"put":return{TAG:1,_0:a.value};default:return b("bs_pervasives").failwith("unexpected operation")}}e={};var h={};function d(a,c,d){return a.get(c).then(function(e){return a.upsert(c,b("bs_curry")._1(d,e))})}h={Index:h,update:d};f.nextKey=g;f.mapBounds=a;f.mapEventToOperation=c;f.Direction=e;f.Table=h}),null);
__d("LSMetadata",[],(function(a,b,c,d,e,f){"use strict";f.buildTableData=g;f.buildMetadata=a;function g(a){var b={},c={};for(var d=0;d<a.length;d++){var e=a[d];for(var e=e,f=Array.isArray(e),g=0,e=f?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var h,i;if(f){if(g>=e.length)break;i=e[g++]}else{g=e.next();if(g.done)break;i=g.value}i=i;h={autoIncrement:(h=i.auto_increment)!=null?h:!1,cascadeUpdates:[],id:parseInt(i.id,10),indexes:i.indexes,name:i.name,primaryKeyIds:i.primary_key};b[h.id]=h;c[h.name]=h}}return{tableIds:b,tableNames:c}}function a(a){a=g(a);var b=a.tableIds;a=a.tableNames;return{tableIds:b,tableNames:a}}}),null);
__d("LSTableSchemas",[],(function(a,b,c,d,e,f){e.exports=[[{name:"sync_groups",id:1,indexes:{},primary_key:["a"]},{name:"pending_tasks",id:2,indexes:{},primary_key:["a"],auto_increment:!0},{name:"network_requests",id:3,indexes:{},primary_key:["a","b"]},{name:"_user_info",id:4,indexes:{},primary_key:["a"]},{name:"pending_fire_and_forget_tasks",id:5,indexes:{},primary_key:["a"],auto_increment:!0},{name:"user_visible_errors",id:6,indexes:{},primary_key:["a"],auto_increment:!0}],[{name:"contacts",id:7,indexes:{},primary_key:["a"]}],[{name:"reactions",id:8,indexes:{},primary_key:["a","c","d"]},{name:"threads",id:9,indexes:{lastActivityTimestampMs:{keyIds:["i","a"],unique:!0},parentThreadKeyLastActivityTimestampMs:{keyIds:["A","i","a"],unique:!0},clientThreadKey:{keyIds:["O","a"],unique:!0}},primary_key:["a"]},{name:"threads_ranges_v2__generated",id:10,indexes:{},primary_key:["a","b","c"]},{name:"threads_ranges__generated",id:11,indexes:{},primary_key:["a"]},{name:"messages",id:12,indexes:{optimistic:{keyIds:["f"],unique:!0}},primary_key:["a","b","e"]},{name:"messages_ranges_v2__generated",id:13,indexes:{},primary_key:["a","b","c"]},{name:"participants",id:14,indexes:{threadKeyReadWatermarkTimestampMs:{keyIds:["a","c","b"],unique:!0}},primary_key:["a","b"]},{name:"ctas",id:15,indexes:{},primary_key:["a"]},{name:"attachments",id:16,indexes:{fk_messages:{keyIds:["a","b","c","e"],unique:!0}},primary_key:["a","c","e"]},{name:"attachments_ranges_v2__generated",id:17,indexes:{},primary_key:["a","b","c"]},{name:"attachment_items",id:18,indexes:{},primary_key:["a","b"]},{name:"attachment_ctas",id:19,indexes:{},primary_key:["a"]},{name:"quick_reply_ctas",id:20,indexes:{},primary_key:["a","b","c"]},{name:"m_suggestions",id:21,indexes:{},primary_key:["a","b","c"]},{name:"rtc_signals",id:22,indexes:{},primary_key:["a","b"]},{name:"rtc_ongoing_calls_on_threads_v2",id:23,indexes:{},primary_key:["a"]},{name:"rtc_multiway_call_initiation_conference_names",id:24,indexes:{},primary_key:["a"]},{name:"mailbox_metadata",id:25,indexes:{},primary_key:["a"]},{name:"group_membership_approval_requests",id:26,indexes:{},primary_key:["a","b"]},{name:"admin_message_ctas",id:27,indexes:{},primary_key:["a","b","c"]},{name:"thread_nullstate",id:28,indexes:{},primary_key:["a"]},{name:"thread_nullstate_ctas",id:29,indexes:{},primary_key:["a"]},{name:"focus_mode_ctas",id:30,indexes:{},primary_key:["a","b","c"]},{name:"messages_optimistic_context",id:31,indexes:{},primary_key:["a"]},{name:"threads_optimistic_context",id:32,indexes:{},primary_key:["a"]},{name:"messages_status",id:33,indexes:{},primary_key:["a","b","c","d","e","f"]},{name:"message_requests",id:34,indexes:{},primary_key:["a"]},{name:"folder_metadata",id:35,indexes:{},primary_key:["a"]},{name:"poll_options",id:36,indexes:{},primary_key:["a","b"]},{name:"poll_votes",id:37,indexes:{},primary_key:["a","b","c"]},{name:"polls",id:38,indexes:{},primary_key:["a"]},{name:"poll_options_v2",id:39,indexes:{},primary_key:["a","b"]},{name:"poll_votes_v2",id:40,indexes:{},primary_key:["a","b","c"]}],[{name:"media_send_jobs",id:51,indexes:{},primary_key:["a"]}],[{name:"typing_indicator",id:52,indexes:{},primary_key:["a","b"]}],[{name:"server_search_results",id:65,indexes:{},primary_key:["a","b","c"]},{name:"server_search_sections",id:66,indexes:{},primary_key:["a","b"]},{name:"search_queries",id:67,indexes:{},primary_key:["a"]},{name:"universal_search_recent_searches",id:68,indexes:{},primary_key:["a"]},{name:"message_search_results",id:69,indexes:{},primary_key:["a","b","c","d"]},{name:"message_search_queries",id:70,indexes:{},primary_key:["a","b","c"]}],[{name:"notification_settings",id:71,indexes:{},primary_key:["a"]},{name:"story_settings",id:72,indexes:{},primary_key:["a"]},{name:"story_participant_settings",id:73,indexes:{},primary_key:["a"]},{name:"contact_upload_settings",id:74,indexes:{},primary_key:["a"]},{name:"gdpr_settings",id:75,indexes:{},primary_key:["a"]},{name:"presence_settings",id:76,indexes:{},primary_key:["a"]},{name:"persistent_menu_items",id:77,indexes:{},primary_key:["a","b"]},{name:"video_chat_links_joining",id:78,indexes:{optimistic:{keyIds:["b"],unique:!0}},primary_key:["a","b"]},{name:"video_chat_links_attempted_joiners",id:79,indexes:{},primary_key:["a","b"]},{name:"cowatch_sessions",id:80,indexes:{},primary_key:["a"]},{name:"self_profile",id:81,indexes:{},primary_key:["a"]},{name:"pinned_threads",id:82,indexes:{pinnedTimestamp:{keyIds:["b"],unique:!0}},primary_key:["a"]},{name:"messaging_settings",id:83,indexes:{},primary_key:["a"]},{name:"reachability_settings",id:148,indexes:{},primary_key:["a"]}],[{name:"presence_states",id:84,indexes:{},primary_key:["a"]}],[{name:"payment_type_paypal",id:85,indexes:{},primary_key:["b"]},{name:"payment_type_card",id:86,indexes:{},primary_key:["b"]},{name:"payment_type_bank",id:87,indexes:{},primary_key:["a"]},{name:"payment_type_bank_v2",id:88,indexes:{},primary_key:["a"]},{name:"payment_method",id:89,indexes:{},primary_key:["a"]},{name:"new_payment_credential_option",id:90,indexes:{},primary_key:["a"]},{name:"paypal_funding_options",id:91,indexes:{},primary_key:["a"]},{name:"payments_eligibility",id:92,indexes:{},primary_key:["a"]},{name:"payments_ofac_blacklisted_countries",id:93,indexes:{},primary_key:["a"]},{name:"p2m_invoice",id:94,indexes:{},primary_key:["a"]},{name:"p2m_invoice_attachment",id:95,indexes:{},primary_key:["a","b"]},{name:"payment_price_list_item",id:96,indexes:{},primary_key:["a","b"]},{name:"p2m_charge",id:97,indexes:{},primary_key:["a"]},{name:"payment_p2p_risk_verification",id:98,indexes:{},primary_key:["a","b"]},{name:"payment_transaction_v2",id:99,indexes:{optimistic:{keyIds:["c"],unique:!0}},primary_key:["a","b"]},{name:"p2p_request_v2",id:100,indexes:{optimistic:{keyIds:["c"],unique:!0}},primary_key:["a","b"]},{name:"p2p_transfer_v2",id:101,indexes:{optimistic:{keyIds:["c"],unique:!0}},primary_key:["a","b"]},{name:"transaction_history",id:102,indexes:{},primary_key:["a"]},{name:"payments_transaction_details_core",id:103,indexes:{},primary_key:["a"]},{name:"payments_transaction_details_ctas",id:104,indexes:{},primary_key:["a","b"]},{name:"payments_transaction_details_rows",id:105,indexes:{},primary_key:["a","b"]},{name:"payment_user_auth",id:106,indexes:{},primary_key:["a"]},{name:"payment_client_auth_token",id:107,indexes:{},primary_key:["a","b","c"]},{name:"payment_auth_request_results",id:108,indexes:{},primary_key:["a"]},{name:"payment_server_request_results",id:109,indexes:{},primary_key:["a"]},{name:"payment_transaction",id:110,indexes:{},primary_key:["a"]},{name:"p2p_transfer",id:111,indexes:{optimistic:{keyIds:["a"],unique:!0}},primary_key:["a","d","e"]},{name:"p2p_request",id:112,indexes:{optimistic:{keyIds:["a"],unique:!0}},primary_key:["a","d","e"]},{name:"payment_pin_verification_results",id:113,indexes:{},primary_key:["a"]}],[{name:"connectivity_status",id:114,indexes:{},primary_key:["a"]},{name:"user_visible_network_connectivity_error",id:115,indexes:{},primary_key:["a"]}],[{name:"thread_themes",id:116,indexes:{},primary_key:["a"]},{name:"gradient_colors",id:117,indexes:{},primary_key:["a","b"]}],[{name:"in_thread_banner",id:118,indexes:{},primary_key:["a","b"]},{name:"in_thread_banner_ctas",id:119,indexes:{},primary_key:["a","b"]},{name:"in_thread_banner_overflow_menu",id:120,indexes:{},primary_key:["a","b"]}],[{name:"stickers",id:121,indexes:{stickerPackId:{keyIds:["m","a"],unique:!0}},primary_key:["a"]},{name:"sticker_packs",id:122,indexes:{},primary_key:["a"]},{name:"sticker_search_results",id:123,indexes:{},primary_key:["a","b"]},{name:"sticker_search_queries",id:124,indexes:{},primary_key:["a"]},{name:"sticker_search_featured_tags",id:125,indexes:{},primary_key:["a"]},{name:"sticker_to_collection",id:126,indexes:{},primary_key:["a","b"]},{name:"sticker_pack_details",id:127,indexes:{},primary_key:["a"]},{name:"sticker_store_pack_indices",id:128,indexes:{},primary_key:["a"]}],[{name:"forward_content",id:129,indexes:{},primary_key:["a","b"]}],[{name:"linked_groups",id:130,indexes:{threadKey:{keyIds:["b"],unique:!0}},primary_key:["a"]}],[{name:"ranking_scores",id:134,indexes:{scoreTypeContactId:{keyIds:["d","a"],unique:!0}},primary_key:["a","d"]},{name:"ranking_requests",id:135,indexes:{},primary_key:["a"]},{name:"value_model_rules",id:136,indexes:{},primary_key:["a","b"]},{name:"value_model_features",id:137,indexes:{},primary_key:["a"]},{name:"value_model_output",id:138,indexes:{},primary_key:["a","b"]}],[{name:"media_staging",id:131,indexes:{},primary_key:["a"]}],[{name:"secure_key_stores",id:132,indexes:{},primary_key:["a"]},{name:"secure_message_client_state_v2",id:139,indexes:{},primary_key:["a"]},{name:"secure_message_client_identity_v2",id:140,indexes:{},primary_key:["a"]},{name:"secure_message_session_state_v2",id:141,indexes:{},primary_key:["a","b","c"]},{name:"secure_message_signed_pre_keys_v2",id:142,indexes:{},primary_key:["a","b"]},{name:"secure_message_pre_keys_v2",id:143,indexes:{},primary_key:["a","b"]},{name:"secure_message_sender_key_v2",id:144,indexes:{},primary_key:["a","b","c","d"]}],[],[],[],[{name:"secure_message_client_state",id:41,indexes:{},primary_key:["a"]},{name:"secure_message_pre_keys",id:42,indexes:{},primary_key:["a"]},{name:"secure_message_session_state",id:43,indexes:{},primary_key:["a","b"]},{name:"secure_message_other_devices",id:44,indexes:{},primary_key:["a"]},{name:"secure_message_sender_key",id:45,indexes:{},primary_key:["a","b","c"]},{name:"secure_threads",id:46,indexes:{},primary_key:["a"]},{name:"secure_messages",id:47,indexes:{optimistic:{keyIds:["g"],unique:!0},threadKeyPrimarySortKey:{keyIds:["a","c","r"],unique:!0}},primary_key:["a","b","c"]},{name:"secure_thread_participants",id:48,indexes:{},primary_key:["a","b"]},{name:"secure_attachments",id:49,indexes:{optimistic:{keyIds:["e"],unique:!0},threadKeyMessageIdAttachmentId:{keyIds:["a","d","b"],unique:!0}},primary_key:["a","b"]},{name:"secure_mailbox_sync_metadata",id:50,indexes:{},primary_key:["a"]},{name:"secure_reactions",id:146,indexes:{reactionId:{keyIds:["h"],unique:!0}},primary_key:["a","c","d","f"]},{name:"secure_sends",id:147,indexes:{},primary_key:["a"]}],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[{name:"crypto_auth_token",id:133,indexes:{},primary_key:["a"]}],[{name:"secure_interop_user_settings",id:145,indexes:{},primary_key:["a"]}]]}),null);
__d("SkytaleDB",["LSMetadata","LSTableSchemas","SkytaleDB.bs","PromiseOrValue.bs","LSStorage"],(function(a,b,c,d,e,f){"use strict";var g=b("LSMetadata").buildTableData(b("LSTableSchemas"));function h(a,b){var c=[],d=a;while(d!==0)c.push(d.hd),d=d.tl;return c.length>=b?a:c.reduceRight(function(a,b){return{hd:b,tl:a}},{hd:[[]],tl:0})}function i(a,c){return a==null?void 0:Object.entries(b("SkytaleDB.bs").mapBounds(a)).reduce(function(a,b){var d=b[0];b=b[1];return babelHelpers["extends"]({},a,(a={},a[d]=d==="gt"||d==="lte"?h(b,c):b,a))},{})}function j(a){var c=a.next;a.next=function(){var a=c.apply(this,arguments);return a instanceof window.Promise?b("PromiseOrValue.bs").fromPromise(a):b("PromiseOrValue.bs").fromValue(a)};return a}a={table:function(a,c){var d=g.tableNames[c],e=a.table(c);a=d.primaryKeyIds.length;var f=function(a,c,d){return{iterator:function(b,e){return j(c.entries(e,a,i(b,d)))},subscribe:function(a,e){return c.subscribe(function(a,c,d){return e(a,b("SkytaleDB.bs").mapEventToOperation(c),d)},i(a,d))},direction:a}};return{add:e.add,upsert:function(a,b){return e.upsert(a,b)},put:function(a){return e.upsert(b("LSStorage").searchKey(g,c,a),a)},get:function(a){return e.get(a)},"delete":function(a){return e["delete"](a)},asc:f("asc",e,a),desc:f("desc",e,a),index:function(a){var b=g.tableNames[c].indexes[a],d=e.index(a);a=b.keyIds.length;return babelHelpers["extends"]({},d,{get:function(a){return d.get(a)},getKey:function(a){return d.getKey(a)},asc:f("asc",d,a),desc:f("desc",d,a)})}}}};e.exports=a}),null);