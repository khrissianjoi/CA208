if (self.CavalryLogger) { CavalryLogger.start_js(["KIyxt"]); }

__d("LSTableDefaults.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";c={c:(a=b("bs_caml_int64")).zero,e:!1,f:a.zero,g:!1,n:a.one};d={e:a.zero,f:a.zero,g:a.zero,h:a.zero,k:a.zero};e={k:!1,l:!1,n:a.zero,o:a.zero,q:a.zero,r:a.zero,w:!0,J:a.zero,L:a.zero,M:a.zero};b={b:a.zero,f:a.zero};var g={i:a.zero,j:a.zero,k:a.zero,l:a.zero,n:a.zero,u:a.zero,I:!1,J:!1,K:!1,P:a.zero,R:!1,Z:a.zero},h={b:a.zero,c:a.zero,d:a.zero,e:a.zero,f:!1,g:!1,h:!1,i:!1},i={f:!1,g:!1},j={b:a.zero,c:a.zero,d:a.zero,j:!1,k:a.zero,l:a.zero,m:!1,u:a.zero,G:a.zero,J:!1,O:!1,P:a.zero,Q:a.one,T:a.zero,V:a.zero,X:a.zero},k={f:!1,g:!1,h:!1,i:!1},l={c:a.zero,d:a.zero,j:a.zero,k:a.zero},m={b:a.zero,f:a.zero,j:!1,k:!1,l:!1,be:a.zero,bU:a.zero},n={b:a.zero,e:!1,f:!1,g:!1,h:!1},o={b:a.zero},p={d:a.zero},q={d:a.zero,h:!1},r={f:a.zero},s={c:a.zero},t={h:a.zero},u={e:a.zero},v={e:a.zero},w={n:a.zero},x={b:a.one,d:a.zero},y={b:a.zero},z={d:a.zero},A={g:a.zero},B={f:a.zero},C={e:a.zero},D={f:a.zero},E={e:a.zero},F={e:a.zero},G={c:a.zero},H={f:a.zero},I={b:a.zero,c:a.zero,d:a.zero,e:a.zero,g:a.zero,j:a.zero,l:a.mk(7,0),u:a.zero},J={b:a.zero,d:a.zero,j:!1,k:a.zero,n:!1,o:a.zero,u:a.zero},K={c:a.zero,d:a.zero};a={f:a.zero};c={sync_groups:c,pending_tasks:d,contacts:e,reactions:b,threads:g,threads_ranges_v2__generated:h,threads_ranges__generated:i,messages:j,messages_ranges_v2__generated:k,participants:l,attachments:m,attachments_ranges_v2__generated:n,attachment_items:o,group_membership_approval_requests:p,admin_message_ctas:q,thread_nullstate:r,messages_status:s,universal_search_recent_searches:t,notification_settings:u,contact_upload_settings:v,video_chat_links_joining:w,presence_states:x,transaction_history:y,secure_message_client_state_v2:z,secure_message_session_state_v2:A,secure_message_signed_pre_keys_v2:B,secure_message_pre_keys_v2:C,secure_message_sender_key_v2:D,secure_message_pre_keys:E,secure_message_session_state:F,secure_message_other_devices:G,secure_message_sender_key:H,secure_threads:I,secure_messages:J,secure_thread_participants:K,secure_attachments:a};f.Defaults=c}),null);
__d("LS",["FBLogger","IndexedDbKeyComparer","LSDict","LSJson","LSTableDefaults.bs","base64-js","bs_caml_format","bs_caml_int64","clearTimeout","nativePromiseRegeneratorRuntime","recoverableViolation","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";e.exports=y;function g(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);g=function(){return a};return a}function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["0"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["2"]);j=function(){return a};return a}function k(a){return a.name.match(/secure_|inbox(?!_)/i)}var l=babelHelpers["extends"]({},b("bs_caml_int64"),{eq:function(a,c){return a==null&&c==null||a!=null&&c!=null&&b("bs_caml_int64").eq(a,c)},neq:function(a,c){return a==null&&c!=null||a!=null&&c==null||a!=null&&c!=null&&b("bs_caml_int64").neq(a,c)},to_int32:function(a){return a==null?a:b("bs_caml_int64").to_int32(a)},to_string:function(a){return a==null?a:b("bs_caml_int64").to_string(a)},from_string:function(a){try{return b("bs_caml_format").caml_int64_of_string(a)}catch(c){throw b("unrecoverableViolation")('Unable to cast "'+a+'" to int64',"messenger_comet")}},random:function(){var b=a.crypto||a.msCrypto;return Array.from(b.getRandomValues(new Uint32Array(2)))}});function m(a){return b("base64-js").toByteArray(a)}function n(a){if(a.length!==1)throw b("unrecoverableViolation")("only literal strings supported","messenger_web_product");a=a[0];var c=parseInt(a.substr(-8),16);a=parseInt(a.substr(0,a.length-8),16);return[a>>>1^-(c&1),((c>>>1)+(a&1)*2147483648^-(c&1))>>>0]}function o(a){a.filter=function(c){var d=function(){var d=babelHelpers.wrapAsyncGenerator(b("nativePromiseRegeneratorRuntime").mark(function d(){var e;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:b.next=2;return babelHelpers.awaitAsyncGenerator(a.next());case 2:e=b.sent;case 3:if(e.done){b.next=14;break}b.next=6;return babelHelpers.awaitAsyncGenerator(c(e.value.item));case 6:if(!b.sent){b.next=9;break}b.next=9;return e.value;case 9:b.next=11;return babelHelpers.awaitAsyncGenerator(a.next());case 11:e=b.sent;b.next=3;break;case 14:case"end":return b.stop()}},d,this)}));return function(){return d.apply(this,arguments)}}();return o(d())};a.slice=function(c,d){var e=function(){var e=babelHelpers.wrapAsyncGenerator(b("nativePromiseRegeneratorRuntime").mark(function e(){var f,g,h,i,j,k;return b("nativePromiseRegeneratorRuntime").wrap(function(e){while(1)switch(e.prev=e.next){case 0:f=0;case 1:if(!(f<c)){e.next=12;break}e.next=4;return babelHelpers.awaitAsyncGenerator(a.next());case 4:g=e.sent;h=g.done;if(!h){e.next=9;break}b("FBLogger")("messenger_web_product").info("not enough iterable values to slice from %d",c);return e.abrupt("return");case 9:f++;e.next=1;break;case 12:if(!(f<d)){e.next=25;break}e.next=15;return babelHelpers.awaitAsyncGenerator(a.next());case 15:i=e.sent;j=i.value;k=i.done;if(!k){e.next=20;break}return e.abrupt("return");case 20:e.next=22;return j;case 22:f++;e.next=12;break;case 25:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();return o(e())};a.forEach=function(c){var d,e,f,g,h;return b("nativePromiseRegeneratorRuntime").async(function(i){while(1)switch(i.prev=i.next){case 0:i.next=2;return b("nativePromiseRegeneratorRuntime").awrap(a.toArray());case 2:d=i.sent,e=Array.isArray(d),f=0,d=e?d:d[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 6:if(!e){i.next=12;break}if(!(f>=d.length)){i.next=9;break}return i.abrupt("break",21);case 9:g=d[f++];i.next=16;break;case 12:f=d.next();if(!f.done){i.next=15;break}return i.abrupt("break",21);case 15:g=f.value;case 16:h=g;i.next=19;return b("nativePromiseRegeneratorRuntime").awrap(c(h));case 19:i.next=6;break;case 21:case"end":return i.stop()}},null,this)};a.toArray=function(){var c,d;return b("nativePromiseRegeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:c=[];e.next=3;return b("nativePromiseRegeneratorRuntime").awrap(a.next());case 3:d=e.sent;case 4:if(d.done){e.next=11;break}c.push(d.value);e.next=8;return b("nativePromiseRegeneratorRuntime").awrap(a.next());case 8:d=e.sent;e.next=4;break;case 11:return e.abrupt("return",c);case 12:case"end":return e.stop()}},null,this)};a.sortBy=function(c,d){d===void 0&&(d=[]);var e={ASC:1,DESC:-1},f=function(a,d){a=a.item;d=d.item;for(var f=0;f<c.length;f++){var g=c[f];g=g[0];var h=a[g];g=d[g];var i;h===void 0&&g===void 0?i=0:h===void 0&&g!==void 0?i=-1:h!==void 0&&g===void 0?i=1:i=b("IndexedDbKeyComparer")(h,g);if(i===0)continue;return i*e[c[f][1]]}return 0},g=function(){var c=babelHelpers.wrapAsyncGenerator(b("nativePromiseRegeneratorRuntime").mark(function c(){var e,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return b("nativePromiseRegeneratorRuntime").wrap(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return babelHelpers.awaitAsyncGenerator(a.next());case 2:e=c.sent,h=[];case 4:if(e.done){c.next=32;break}i=[];for(j=0;j<d.length;j++)i.push(e.value.item[d[j]]);if(!(g!==void 0&&b("IndexedDbKeyComparer")(g,i)!==0)){c.next=25;break}k=h.sort(f),l=Array.isArray(k),m=0,k=l?k:k[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 9:if(!l){c.next=15;break}if(!(m>=k.length)){c.next=12;break}return c.abrupt("break",24);case 12:n=k[m++];c.next=19;break;case 15:m=k.next();if(!m.done){c.next=18;break}return c.abrupt("break",24);case 18:n=m.value;case 19:o=n;c.next=22;return o;case 22:c.next=9;break;case 24:h=[];case 25:h.push(e.value);g=i;c.next=29;return babelHelpers.awaitAsyncGenerator(a.next());case 29:e=c.sent;c.next=4;break;case 32:if(!h.length){c.next=49;break}p=h.sort(f),q=Array.isArray(p),r=0,p=q?p:p[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();case 34:if(!q){c.next=40;break}if(!(r>=p.length)){c.next=37;break}return c.abrupt("break",49);case 37:s=p[r++];c.next=44;break;case 40:r=p.next();if(!r.done){c.next=43;break}return c.abrupt("break",49);case 43:s=r.value;case 44:t=s;c.next=47;return t;case 47:c.next=34;break;case 49:case"end":return c.stop()}},c,this)}));return function(){return c.apply(this,arguments)}}();return o(g())};a.count=function(){var c,d;return b("nativePromiseRegeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:c=0;e.next=3;return b("nativePromiseRegeneratorRuntime").awrap(a.next());case 3:d=e.sent;case 4:if(d.done){e.next=11;break}c++;e.next=8;return b("nativePromiseRegeneratorRuntime").awrap(a.next());case 8:d=e.sent;e.next=4;break;case 11:return e.abrupt("return",l.of_int32(c));case 12:case"end":return e.stop()}},null,this)};a.groupBy=function(c){return{forEach:function(d){var e,f,g,h,i,j,k,m,n,o;return b("nativePromiseRegeneratorRuntime").async(function(p){while(1)switch(p.prev=p.next){case 0:p.next=2;return b("nativePromiseRegeneratorRuntime").awrap(a.toArray());case 2:e=p.sent,f=e.reduce(function(a,b){b=b.item[c];var d=(a.get(b)||0)+1;return a.set(b,d)},new(b("LSDict"))()),(g=f,h=Array.isArray(g),i=0,g=h?g:g[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]());case 5:if(!h){p.next=11;break}if(!(i>=g.length)){p.next=8;break}return p.abrupt("break",22);case 8:k=g[i++];p.next=15;break;case 11:i=g.next();if(!i.done){p.next=14;break}return p.abrupt("break",22);case 14:k=i.value;case 15:m=k;n=m[0];o=m[1];p.next=20;return b("nativePromiseRegeneratorRuntime").awrap(d((j={},j[c]=n,j.group_count=l.of_int32(o),j)));case 20:p.next=5;break;case 22:case"end":return p.stop()}},null,this)}}};return a}function p(a,c){var d=b("LSTableDefaults.bs").Defaults[c.name];return!d?a:Object.keys(d).reduce(function(a,b){Object.prototype.hasOwnProperty.call(a,b)||(a[b]=d[b]);return a},babelHelpers["extends"]({},a))}var q=[[]];function r(a,c){if(typeof a==="object"&&!Array.isArray(a)){var d,e;if(c==="asc"){Object.prototype.hasOwnProperty.call(a,"gt")&&(d=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(d!==void 0)throw b("unrecoverableViolation")("Cannot specify both gt and gte","messenger_web_product");d=[a.gte,0]}Object.prototype.hasOwnProperty.call(a,"lt")&&(e=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(e!==void 0)throw b("unrecoverableViolation")("Cannot specify both lt and lte","messenger_web_product");e=[a.lte,0]}}else{Object.prototype.hasOwnProperty.call(a,"lt")&&(d=[a.lt,1]);if(Object.prototype.hasOwnProperty.call(a,"lte")){if(d!==void 0)throw b("unrecoverableViolation")("Cannot specify both lt and lte","messenger_web_product");d=[a.lte,0]}Object.prototype.hasOwnProperty.call(a,"gt")&&(e=[a.gt,1]);if(Object.prototype.hasOwnProperty.call(a,"gte")){if(e!==void 0)throw b("unrecoverableViolation")("Cannot specify both gt and gte","messenger_web_product");e=[a.gte,0]}}return{start:d,end:e}}return{start:[a,0],end:[a,0]}}function s(a){var b=[];while(a!==0)b.push(a.hd),a=a.tl;return b}function t(a){return a.reduceRight(function(a,b){return{hd:b,tl:a}},0)}function u(a,b){return v.apply(this,arguments)}function v(){v=babelHelpers.wrapAsyncGenerator(b("nativePromiseRegeneratorRuntime").mark(function a(c,d,e){var f,g,h,i,j;return b("nativePromiseRegeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:j=function(){j=babelHelpers.wrapAsyncGenerator(b("nativePromiseRegeneratorRuntime").mark(function a(c){var j,k,l,m,n,o,p,r;return b("nativePromiseRegeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:j=d[c]||{},k=j.start,l=j.end;if(!h.done){a.next=3;break}return a.abrupt("return");case 3:m=s(h.value[0]);n=m.slice(0,c);if(!k){a.next=17;break}if(!(f(m[c],k[0])*(e==="asc"?1:-1)<0)){a.next=11;break}o=[].concat(n,[k[0]],e==="desc"?[q]:[]);a.next=10;return babelHelpers.awaitAsyncGenerator(g.next(t(o)));case 10:h=a.sent;case 11:if(!(!h.done&&k[1])){a.next=17;break}m=s(h.value[0]);if(!(f([].concat(n,[k[0]]),[].concat(n,[m[c]]))===0)){a.next=17;break}a.next=16;return babelHelpers.awaitAsyncGenerator(g.next());case 16:h=a.sent;case 17:if(h.done){a.next=49;break}m=s(h.value[0]);if(!(f(n,m.slice(0,c))!==0)){a.next=21;break}return a.abrupt("return");case 21:if(!l){a.next=27;break}if(!(f(l[0],m[c])*(e==="asc"?1:-1)<l[1])){a.next=27;break}a.next=25;return babelHelpers.awaitAsyncGenerator(g.next(t([].concat(m.slice(0,c),e==="asc"?[q]:[]))));case 25:h=a.sent;return a.abrupt("return");case 27:if(!(c<m.length-1)){a.next=42;break}p=i(c+1);a.next=31;return babelHelpers.awaitAsyncGenerator(p.next());case 31:r=a.sent;case 32:if(r.done){a.next=40;break}a.next=35;return r.value;case 35:a.next=37;return babelHelpers.awaitAsyncGenerator(p.next());case 37:r=a.sent;a.next=32;break;case 40:a.next=47;break;case 42:a.next=44;return h.value;case 44:a.next=46;return babelHelpers.awaitAsyncGenerator(g.next());case 46:h=a.sent;case 47:a.next=17;break;case 49:case"end":return a.stop()}},a,this)}));return j.apply(this,arguments)};i=function(a){return j.apply(this,arguments)};e===void 0&&(e="asc");f=b("IndexedDbKeyComparer");g=c.entries(new WeakMap(),e);a.next=7;return babelHelpers.awaitAsyncGenerator(g.next());case 7:h=a.sent;return a.delegateYield(babelHelpers.asyncGeneratorDelegate(babelHelpers.asyncIterator(i(0)),babelHelpers.awaitAsyncGenerator),"t0",9);case 9:case"end":return a.stop()}},a,this)}));return v.apply(this,arguments)}function w(a,c,d){var e=a.table(c.name);function f(a,b){return{"delete":function(){return e["delete"](a)},item:b,update:function(c){return e.upsert(a,babelHelpers["extends"]({},b,c))}}}function g(a,b,c){return h.apply(this,arguments)}function h(){h=babelHelpers.wrapAsyncGenerator(b("nativePromiseRegeneratorRuntime").mark(function a(c,d,e){var f,g,h;return b("nativePromiseRegeneratorRuntime").wrap(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return babelHelpers.awaitAsyncGenerator(c.next());case 2:f=a.sent;a.next=5;return babelHelpers.awaitAsyncGenerator(d.next());case 5:g=a.sent;case 6:if(!(!f.done&&!g.done)){a.next=34;break}h=b("IndexedDbKeyComparer")(f.value[0],g.value[0]);if(!(h===0)){a.next=19;break}a.next=11;return f.value;case 11:a.next=13;return babelHelpers.awaitAsyncGenerator(c.next());case 13:f=a.sent;a.next=16;return babelHelpers.awaitAsyncGenerator(d.next());case 16:g=a.sent;a.next=32;break;case 19:if(!(h*(e==="asc"?1:-1)<0)){a.next=27;break}a.next=22;return f.value;case 22:a.next=24;return babelHelpers.awaitAsyncGenerator(c.next());case 24:f=a.sent;a.next=32;break;case 27:a.next=29;return g.value;case 29:a.next=31;return babelHelpers.awaitAsyncGenerator(d.next());case 31:g=a.sent;case 32:a.next=6;break;case 34:if(f.done){a.next=42;break}a.next=37;return f.value;case 37:a.next=39;return babelHelpers.awaitAsyncGenerator(c.next());case 39:f=a.sent;a.next=34;break;case 42:if(g.done){a.next=50;break}a.next=45;return g.value;case 45:a.next=47;return babelHelpers.awaitAsyncGenerator(d.next());case 47:g=a.sent;a.next=42;break;case 50:case"end":return a.stop()}},a,this)}));return h.apply(this,arguments)}function i(a,h){var i=function(){var i=babelHelpers.wrapAsyncGenerator(b("nativePromiseRegeneratorRuntime").mark(function i(){var j,k,l,m,n,o,p,q,s,v;return b("nativePromiseRegeneratorRuntime").wrap(function(i){while(1)switch(i.prev=i.next){case 0:j=new Set();k=a.length>1;l=a.length===1&&a[0][1]===void 0;m=a.map(function(a){var f=a[0],g=a[1];return f.map(function(a){d.key_lookup===!0&&a.length!==0;d.table_scan===!0&&a.length===0;a=a.map(function(a){return r(a,h)});var f=a.length===(g===void 0?c.primaryKeyIds:c.indexes[g].keyIds).length&&a.every(function(a){var b=a.start;a=a.end;return b&&a&&b[0]===a[0]&&b[1]===0&&a[1]===0});return f?babelHelpers.wrapAsyncGenerator(b("nativePromiseRegeneratorRuntime").mark(function c(){var d,f;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:d=t(a.map(function(a){a=a.start;return a[0]}));b.next=3;return babelHelpers.awaitAsyncGenerator((g===void 0?e:e.index(g)).get(d));case 3:f=b.sent;if(f){b.next=6;break}return b.abrupt("return");case 6:b.next=8;return[d,f];case 8:case"end":return b.stop()}},c,this)}))():u(g===void 0?e:e.index(g),a,h)})}).flat().reduce(function(a,b){return g(a,b,h)});i.next=6;return babelHelpers.awaitAsyncGenerator(m.next());case 6:n=i.sent;case 7:if(n.done){i.next=25;break}o=n.value,p=o[0],q=o[1];s=l?p:c.primaryKeyIds.reduceRight(function(a,b){return{hd:q[b],tl:a}},0);if(!k){i.next=18;break}v=JSON.stringify(v);if(!j.has(v)){i.next=17;break}i.next=15;return babelHelpers.awaitAsyncGenerator(m.next());case 15:n=i.sent;return i.abrupt("continue",7);case 17:j.add(v);case 18:i.next=20;return f(s,q);case 20:i.next=22;return babelHelpers.awaitAsyncGenerator(m.next());case 22:n=i.sent;i.next=7;break;case 25:case"end":return i.stop()}},i,this)}));return function(){return i.apply(this,arguments)}}();return o(i())}function j(a){return o(babelHelpers.wrapAsyncGenerator(b("nativePromiseRegeneratorRuntime").mark(function c(){var g,h,i,j,k;return b("nativePromiseRegeneratorRuntime").wrap(function(b){while(1)switch(b.prev=b.next){case 0:d.table_scan===!0;g=e.entries(new WeakMap(),a);b.next=4;return babelHelpers.awaitAsyncGenerator(g.next());case 4:h=b.sent;case 5:if(h.done){b.next=14;break}i=h.value,j=i[0],k=i[1];b.next=9;return f(j,k);case 9:b.next=11;return babelHelpers.awaitAsyncGenerator(g.next());case 11:h=b.sent;b.next=5;break;case 14:case"end":return b.stop()}},c,this)}))())}return{add:function(a){return e.add(p(a,c))},getArr:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return i(b.length===0?[[[[]],void 0]]:b,"asc")},getArrDesc:function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return i(b.length===0?[[[[]],void 0]]:b,"desc")},openCursor:function(){return j("asc")},openCursorDesc:function(){return j("desc")},put:function(a){return e.put(a)},peekNextAutoIncrementId:function(){return e.peekNextAutoIncrementId()}}}function x(a,c,d,e){return{table:function(f){f=d.tableIds[f];if(c===0&&k(f))throw b("unrecoverableViolation")("cannot access secure table from dynamic mode","messenger_web_product");return w(a,f,e)}}}function y(a,c,d,e,f,k,o){o===void 0&&(o={});o=x(k,a,c,o);var p=[];return{Map:b("LSDict"),constructor:{n:n},createArray:function(){return Object.defineProperty([],"tag",{value:"ls-array"})},db:o,i64:l,blob:m,like:function(a,b){return a.match(b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/%/g,".*").replace(/_/g,"."))},log:function(b,c){d["7"](k,a,c,b)},loopAsync:function(a,b){function c(d){var e;return l.lt(d,a)?b(d).then(function(){return c(l.add(d,n(j())))}):((e=window.Promise)!=null?e:Promise).resolve()}return c(n(i()))},loopSync:function(a,b){for(var c=n(h());l.lt(c,a);c=l.add(c,n(g())))b(c)},merge:function(){function a(a,c){return b("IndexedDbKeyComparer")(a,c)>0?a:c}function c(a,c){return b("IndexedDbKeyComparer")([a[0],-a[1]],[c[0],-c[1]])<0?a:c}for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];var g=e.reduce(function(b,d){d=r(d,"asc");return{start:b.start&&d.start?a(d.start,b.start):d.start||b.start,end:b.end&&d.end?c(d.end,b.end):d.end||b.end}},{});return babelHelpers["extends"]({},g.start?g.start[1]?{gt:g.start[0]}:{gte:g.start[0]}:null,g.end?g.end[1]?{lt:g.end[0]}:{lte:g.end[0]}:null)},n:n,nop:function(c){if(d[c]==null)throw b("unrecoverableViolation")("Attempted to call unimplemented native op with id: "+c,"messenger_web_product");for(var e=arguments.length,f=new Array(e>1?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];return d[c].apply(d,[k,a].concat(f))},notnull:function(a){if(a===null)throw b("unrecoverableViolation")("value should not be null","messenger_web_product");return a},ntop:function(c,d){var f;if((e[c]||{})[d]==null)throw b("unrecoverableViolation")("Attempted to call unimplemented native type op with type: "+c+" and id: "+d,"messenger_web_product");for(var g=arguments.length,h=new Array(g>2?g-2:0),i=2;i<g;i++)h[i-2]=arguments[i];return(f=e[c])[d].apply(f,[k,a].concat(h))},o:n,print:function(a){},resolve:function(a){var b;return((b=window.Promise)!=null?b:Promise).resolve(a)},rm:l.of_int32(a),seq:function(a){return a.slice(1).reduce(function(a,b){return a.then(b)},a[0]())},slc:function(a,b){return Array.prototype.slice.call(a,b)},sp:function(g){var h,i,j,l,m,n,o=arguments;return b("nativePromiseRegeneratorRuntime").async(function(q){while(1)switch(q.prev=q.next){case 0:h=f[g];if(!h.load){q.next=7;break}i=b("setTimeout")(function(){b("recoverableViolation")("Loading stored procedure "+g+" took more than 5 seconds to execute.","messenger_web_product")},5e3);q.next=5;return b("nativePromiseRegeneratorRuntime").awrap(h.load());case 5:h=q.sent,b("clearTimeout")(i);case 7:if(!(h==null)){q.next=9;break}throw b("unrecoverableViolation")("Attempted to call unimplemented stored procedure with id: "+g,"messenger_web_product");case 9:j=this;q.t0=a;q.next=q.t0===0?13:q.t0===2?15:17;break;case 13:j=y(2,c,d,e,f,k);return q.abrupt("break",17);case 15:j=y(1,c,d,e,f,k);return q.abrupt("break",17);case 17:p.push(g);q.prev=18;for(l=o.length,m=new Array(l>1?l-1:0),n=1;n<l;n++)m[n-1]=o[n];q.next=22;return b("nativePromiseRegeneratorRuntime").awrap(h.apply(void 0,m.concat([j])));case 22:return q.abrupt("return",q.sent);case 25:q.prev=25;q.t1=q["catch"](18);b("FBLogger")("messenger_web_product").catching(q.t1).addMetadata("LS_WEB","SPROC_STACK",p.join("\n")).warn("Sproc %s failed",g);throw q.t1;case 29:q.prev=29;p.pop();return q.finish(29);case 32:case"end":return q.stop()}},null,this,[[18,25,29,32]])},"throw":function(a){throw b("unrecoverableViolation")(a,"messenger_comet")},toJSON:function(a){return b("LSJson").stringify(a)}}}y.n=n}),null);
__d("IBFEncoder.bs",["bs_int64","bs_belt_Array","bs_caml_array","bs_caml_int32","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";var g=b("bs_caml_int64").mk(-2078137563,-873292572);function h(a,c,d){d=c!==void 0?c:g;return b("bs_belt_Array").range(0,7).reduce(function(c,d){var e;c=(e=b("bs_caml_int64")).add(e.add(e.add(e.add(e.add(e.add(c,e.lsl_(c,1)),e.lsl_(c,4)),e.lsl_(c,5)),e.lsl_(c,7)),e.lsl_(c,8)),e.lsl_(c,40));d=e.and_(e.asr_(a,d<<3),e.mk(255,0));e=b("bs_caml_int64").gt(d,b("bs_caml_int64").mk(127,0))?b("bs_caml_int64").or_(d,b("bs_caml_int64").mk(-256,-1)):d;return b("bs_caml_int64").xor(c,e)},d)}function i(a){var c=new TextEncoder();return c.encode(a).reduce(function(a,c){var d;d=(d=b("bs_caml_int64")).add(d.add(d.add(d.add(d.add(d.add(a,d.lsl_(a,1)),d.lsl_(a,4)),d.lsl_(a,5)),d.lsl_(a,7)),d.lsl_(a,8)),d.lsl_(a,40));a=c>127?c|-256:c;return b("bs_caml_int64").xor(d,b("bs_caml_int64").of_int32(a))},g)}function j(a,c){var d,e=(d=b("bs_caml_int64")).mod_(d.and_(a,d.max_int),c);d=d.zero;b("bs_caml_int64").neq(b("bs_caml_int64").and_(a,b("bs_caml_int64").min_int),b("bs_caml_int64").zero)&&(d=b("bs_caml_int64").le(c,b("bs_caml_int64").mk(0,1073741824))?b("bs_caml_int64").mul(b("bs_caml_int64").mod_(b("bs_caml_int64").mk(0,1073741824),c),b("bs_caml_int64").mk(2,0)):b("bs_caml_int64").add(b("bs_caml_int64").sub(b("bs_caml_int64").mk(0,1073741824),c),b("bs_caml_int64").mk(0,1073741824)));return b("bs_caml_int64").mod_(b("bs_caml_int64").add(e,d),c)}function k(a,c,d){var e=b("bs_belt_Array").make(a,0),f=d;for(var g=0;g<c;++g){f=h(d,f,void 0);var i=b("bs_caml_int64").to_int32(j(f,b("bs_caml_int64").of_int32(a)));while(b("bs_caml_array").caml_array_get(e,i)!==0)i=b("bs_caml_int32").mod_(i+1|0,a);b("bs_caml_array").caml_array_set(e,i,1)}return e}function l(a){var c;return(c=b("bs_caml_int64")).add(c.mul(c.mk(2,0),i(a)),c.one)}function m(a){return h(a,b("bs_caml_int64").mk(1459076858,0),void 0)}function a(a,c){var d=[],e=new Map(),f=new Map(),g=new Map();for(var h=0;h<a;++h)d.push({hashResultSum:b("bs_caml_int64").zero,verificationHashResultSum:b("bs_caml_int64").zero,count:0});var j=function(e,f){var g=m(e),h=k(a,c,e);h.forEach(function(c,a){if(c!==0){return(c=b("bs_caml_array")).caml_array_set(d,a,{hashResultSum:b("bs_caml_int64").xor(c.caml_array_get(d,a).hashResultSum,e),verificationHashResultSum:b("bs_caml_int64").xor(c.caml_array_get(d,a).verificationHashResultSum,g),count:c.caml_array_get(d,a).count+f|0})}})};return{addObject:function(a,c){c=a+c;var d=1,h=l(a);c=b("bs_caml_int64").mul(b("bs_caml_int64").mk(2,0),i(c));e.set(b("bs_int64").to_string(h),a);f.set(b("bs_int64").to_string(c),a);g.set(h,c);j(h,d);return j(c,d)},serializeToArray:function(e){e=[];for(var c=0;c<a;++c)e.push(b("bs_caml_array").caml_array_get(d,c).hashResultSum),e.push(b("bs_caml_array").caml_array_get(d,c).verificationHashResultSum),e.push(b("bs_caml_int64").of_int32(b("bs_caml_array").caml_array_get(d,c).count));return e}}}f.make=a}),null);
__d("LSCoreCreateInvertibleBloomFilterEncoder.bs",["bs_caml_int64","IBFEncoder.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){return window.Promise.resolve([b("IBFEncoder.bs").make(b("bs_caml_int64").to_int32(d),b("bs_caml_int64").to_int32(e))])}f.call=a}),null);
__d("LSCoreFunctionProfileEnter.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return window.Promise.resolve([])}f.call=a}),null);
__d("LSCoreFunctionProfileLeave.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return window.Promise.resolve([])}f.call=a}),null);
__d("LSCoreGetRandomNumber.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSCoreGetRandomNumber not implemented","messenger_comet")}f.call=a}),null);
__d("LSCoreIsLocalizationSupported.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return window.Promise.resolve(!1)}f.call=a}),null);
__d("LSClientLogLevel.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";c=(a=b("bs_caml_int64")).one;d=a.mk(2,0);e=a.mk(3,0);b=a.mk(4,0);f.verbose=c;f.warning=d;f.error=e;f.info=b}),null);
__d("LSCoreLog.bs",["FBLogger","bs_caml_int64","LogHistory","LSClientLogLevel.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e){a=b("LogHistory").getInstance("messenger-comet");b("bs_caml_int64").eq(d,b("LSClientLogLevel.bs").warning)?b("FBLogger")("messenger_web_product").warn(e):b("bs_caml_int64").eq(d,b("LSClientLogLevel.bs").error)?b("FBLogger")("messenger_web_product").mustfix(e):a.log(e,"")}f.call=a}),null);
__d("LSCoreLogEventAnnotate.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e,f){return window.Promise.resolve([])}f.call=a}),null);
__d("LSCoreResolveLocalizedString.bs",["unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("unrecoverableViolation")("SPROC LSCoreResolveLocalizedString not implemented","messenger_comet")}f.call=a}),null);
__d("LSNativeOperations",["LSCoreCreateInvertibleBloomFilterEncoder.bs","LSCoreGetRandomNumber.bs","LSCoreLog.bs","LSCoreLogEventAnnotate.bs","LSCoreFunctionProfileEnter.bs","LSCoreFunctionProfileLeave.bs","LSCoreResolveLocalizedString.bs","LSCoreIsLocalizationSupported.bs"],(function(a,b,c,d,e,f){"use strict";e.exports={3:b("LSCoreCreateInvertibleBloomFilterEncoder.bs").call,4:b("LSCoreGetRandomNumber.bs").call,7:b("LSCoreLog.bs").call,9:b("LSCoreLogEventAnnotate.bs").call,10:b("LSCoreFunctionProfileEnter.bs").call,11:b("LSCoreFunctionProfileLeave.bs").call,12:b("LSCoreResolveLocalizedString.bs").call,13:b("LSCoreIsLocalizationSupported.bs").call}}),null);
__d("LSVec.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a.slice();a.tag="ls-array";return a}f.make=a}),null);
__d("LSCoreInvertibleBloomFilterEncoderCreateEncodedArray.bs",["bs_curry","LSVec.bs"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){return window.Promise.resolve([b("LSVec.bs").make(b("bs_curry")._1(d.serializeToArray,void 0))])}f.call=a}),null);
__d("LSCoreInvertibleBloomFilterEncoderInsert.bs",["bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f){b("bs_curry")._2(d.addObject,e,f);return window.Promise.resolve([])}f.call=a}),null);
__d("LSNativeTypeOperations",["Promise","LSCoreInvertibleBloomFilterEncoderCreateEncodedArray.bs","LSCoreInvertibleBloomFilterEncoderInsert.bs","bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a={3:function(a,c,d,e){return b("Promise").resolve([d[b("bs_caml_int64").to_int32(e)],d])},4:function(a,c,d,e){return b("Promise").resolve([d.splice(b("bs_caml_int64").to_int32(e),1)])}};f.Array=a;c={10:b("LSCoreInvertibleBloomFilterEncoderInsert.bs").call,11:b("LSCoreInvertibleBloomFilterEncoderCreateEncodedArray.bs").call};f.InvertibleBloomFilterEncoder=c}),null);
__d("LSConfigMessenger.bs",["LS","LSNativeOperations","LSStoredProcedures","MPWLSDBCreateSchema.bs","LSNativeTypeOperations"],(function(a,b,c,d,e,f){"use strict";var g=b("LSStoredProcedures"),h=b("LSNativeTypeOperations"),i=b("LSNativeOperations");function a(a){return b("LS")(1,b("MPWLSDBCreateSchema.bs").metadata,i,h,g,a)}f.make=a}),null);
__d("MWLSPresenceIsThreadActive.bs",["React","MWLSActor.bs","SkytaleDB","bs_caml_int64","bs_belt_Option","MWThreadKey.bs","SkytaleDBHook.bs","SkytaleDBQuery.bs","LSPresenceStatus.bs","SkytaleDBQuerySubscriptionHook.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("SkytaleDBHook.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0),e=b("MWLSActor.bs").useActor(void 0);a=g.useMemo(function(){var a;return(a=b("SkytaleDBQuery.bs")).take(a.filter(a.mergeJoin(a.getKeyRange(b("SkytaleDB").table(c,"participants").asc,{hd:d,tl:0}),b("SkytaleDB").table(c,"presence_states").asc),function(a){if(b("bs_caml_int64").neq(a[0].b,e))return b("bs_caml_int64").eq(a[1].b,b("LSPresenceStatus.bs").active);else return!1}),1)},[c,d,JSON.stringify(e)]);return b("bs_belt_Option").isSome(b("SkytaleDBQuerySubscriptionHook.bs").useFirst(a))}f.useHook=a}),null);
__d("LSMailboxMessagesRangeQueryDirection.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;f.before=a;f.after=c}),null);